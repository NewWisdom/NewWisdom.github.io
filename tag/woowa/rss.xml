<?xml version="1.0" encoding="UTF-8" ?>

<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   
      <title>NewWisdom.github.io/</title>
   
   <link>http://localhost:4000</link>
   <description>ë¸”ë¡œê·¸ ì´ì‚¬ì¤‘... ì•„ì§ ì •ë¦¬ê°€ ì•ˆë˜ì—ˆìŒ...</description>
   <language>ko-KR</language>
   <managingEditor> </managingEditor>
   <atom:link href="rss" rel="self" type="application/rss+xml" />
   
	<item>
	  <title>ğŸŒ± ìŠ¤í”„ë§ ë¶€íŠ¸ Profileë¡œ ë‹¤ë¥¸ í™˜ê²½ êµ¬ì„±</title>
	  <link>//profile</link>
	  <author></author>
	  <pubDate>2021-06-09T10:01:00+09:00</pubDate>
	  <guid>//profile</guid>
	  <description><![CDATA[
	     <h2 id="profile">Profile?</h2>

<ul>
  <li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì¼ë¶€ configurationì„ ë¶„ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©</li>
  <li>ì• í”Œë¦¬ì¼€ì´ì…˜ ì¼ë¶€ configurationì„ íŠ¹ì • í™˜ê²½ì—ì„œë§Œ ê°€ëŠ¥í•˜ê²Œ í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©</li>
  <li>ê°œë°œ í™˜ê²½ì— ë”°ë¼ ì„¤ì •ê°’ì„ ë‹¬ë¥´ê²Œ ë¡œë”©í•  ë•Œ</li>
</ul>

<h2 id="profile-1">@Profile</h2>

<ul>
  <li><code class="highlighter-rouge">@Component, @Configuration, @ConfigurationProperties</code>ì„ <code class="highlighter-rouge">@Profile</code>ì™€ í•¨ê»˜ ì„ ì–¸</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Configuration</span>
<span class="nd">@Profile</span><span class="o">(</span><span class="s">"production"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductionConfiguration</span> <span class="o">{</span>

    <span class="c1">// ...</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
  <li>ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì‹œ <code class="highlighter-rouge">spring.profiles.active</code> í”„ë¡œí¼í‹°ë¡œ í”„ë¡œíŒŒì¼ì„ ì§€ì •í•˜ë©´ í•´ë‹¹ í”„ë¡œíŒŒì¼ì´ ì ìš©ëœ ë¹ˆë§Œ ë“±ë¡ë¨</li>
</ul>

<p><strong>application-properties</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring.profiles.active=dev,hsqldb
</code></pre></div></div>

<h4 id="example">Example</h4>

<ol>
  <li>application-propertiesì— ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring.profiles.active=prod
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">@Profile</code> ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ <code class="highlighter-rouge">@Configuration</code> ë“±ë¡</li>
</ol>

<p><img src="https://user-images.githubusercontent.com/43840561/121311111-0f322800-c93f-11eb-9455-436a99434869.png" alt="image" style="zoom:50%;" /></p>

<p><img src="https://user-images.githubusercontent.com/43840561/121311125-13f6dc00-c93f-11eb-8a93-3923630d84fa.png" alt="image" style="zoom:50%;" /></p>

<ol>
  <li>ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì‹œ activeí•œ prodì— ë“±ë¡ëœ hello ë¹ˆì´ ì¶œë ¥ë¨</li>
</ol>

<p><img src="https://user-images.githubusercontent.com/43840561/121311276-3a1c7c00-c93f-11eb-9698-9abf9172184f.png" alt="image" /></p>

<h3 id="profileê³¼-activeprofiles">@Profileê³¼ @ActiveProfiles</h3>
<ul>
  <li>ì„œë¡œ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ profileì„ í™œì„±í™”í•˜ì—¬ í•„ìš”í•œ ë¹ˆë§Œ ë“±ë¡í•˜ë„ë¡ í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜</li>
  <li><code class="highlighter-rouge">@Profile</code>ì€ SpringBootApplicationì„ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©</li>
  <li><code class="highlighter-rouge">@ActiveProfiles</code>ì€ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì‚¬ìš©</li>
</ul>

<h2 id="applicationproperties">application.properties</h2>

<ul>
  <li>application-{profile}.properties í˜•ì‹ìœ¼ë¡œ íŒŒì¼ ìƒì„±</li>
  <li>ì´ëŠ” <code class="highlighter-rouge">@ConfigurationProperties</code>ë¡œ ê°„ì£¼ë˜ê³  ë¡œë“œë¨
    <ul>
      <li>*.properties , *.yml íŒŒì¼ì— ìˆëŠ” propertyë¥¼ ìë°” í´ë˜ìŠ¤ì— ê°’ì„ ê°€ì ¸ì™€ì„œ(ë°”ì¸ë”©) ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜</li>
    </ul>
  </li>
  <li>application-{profile}.propertiesì€ application.properties ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ê²Œë¨</li>
  <li>ë¹Œë“œí•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ì™€ í•¨ê»˜ íŠ¹ì • í™˜ê²½ì„¤ì •ì„ ì ìš©í•  ìˆ˜ ìˆìŒ
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>--spring.profiles.active=production
</code></pre></div>    </div>
  </li>
  <li>properties íŒŒì¼ì— <code class="highlighter-rouge">spring.profiles.include</code>ë¥¼ í†µí•´ ì¶”ê°€í•  í”„ë¡œíŒŒì¼ì„ ì„¤ì •í•  ìˆ˜ ìˆìŒ</li>
</ul>

<h4 id="example-1">Example</h4>

<p><strong>application-properties</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring.profiles.active=dev
profile-common.name = default_name_mazzi
defaultonly.name = defualt_name
</code></pre></div></div>
<p><strong>application-prod.properties</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>profile-common.name = test_name_mazzi
testonly.name = test_name
</code></pre></div></div>
<p><strong>application-dev.properties</strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>profile-common.name = dev_name_mazzi
devonly.name = dev_name
</code></pre></div></div>
<p><strong>AppRunner</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppRunner</span> <span class="kd">implements</span> <span class="n">ApplicationRunner</span> <span class="o">{</span>
    <span class="nd">@Autowired</span>
    <span class="n">Environment</span> <span class="n">env</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">ApplicationArguments</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"====================================================="</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"spring.profiles.active : "</span> <span class="o">+</span> <span class="n">args</span><span class="o">.</span><span class="na">getOptionValues</span><span class="o">(</span><span class="s">"spring.profiles.active"</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Enviroment's Active Profile : "</span> <span class="o">+</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">getActiveProfiles</span><span class="o">()));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"defaultonly.name : "</span> <span class="o">+</span> <span class="n">env</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">"defaultonly.name"</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"testonly.name : "</span> <span class="o">+</span> <span class="n">env</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">"testonly.name"</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"devonly.name : "</span> <span class="o">+</span> <span class="n">env</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">"devonly.name"</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"profile-common.name : "</span> <span class="o">+</span> <span class="n">env</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">"profile-common.name"</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"====================================================="</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p><strong>ì‹¤í–‰ ê²°ê³¼</strong></p>

<p><img src="https://user-images.githubusercontent.com/43840561/121315869-b6b15980-c943-11eb-83a9-7e4214b18fe6.png" alt="image" style="zoom:50%;" /></p>

<ul>
  <li>profile-common.nameëŠ” ëª¨ë“  í”„ë¡œí¼í‹° íŒŒì¼ì´ ê³µí†µìœ¼ë¡œ ê°€ì§„ í”„ë¡œí¼í‹°</li>
  <li>dev í”„ë¡œíŒŒì¼ì„ í™œì„±í™”</li>
  <li>ê³µí†µ ì†ì„±ì¸ <code class="highlighter-rouge">profile-common.name</code>ì€ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ dev í”„ë¡œíŒŒì¼ì˜ ê²ƒìœ¼ë¡œ ì˜¤ë²„ë¼ì´ë“œ ë¨</li>
</ul>

<hr />
<h3 id="ì°¸ê³ ìë£Œ">ì°¸ê³ ìë£Œ</h3>
<ul>
  <li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles">ê³µì‹ë¬¸ì„œ</a></li>
  <li><a href="https://yangbox.tistory.com/35">ìŠ¤í”„ë§ë¶€íŠ¸ í”„ë¡œíŒŒì¼(Springboot Profile)ë¡œ ë‹¤ë¥¸ í™˜ê²½ êµ¬ì„±í•˜ê¸°</a></li>
  <li><a href="https://engkimbs.tistory.com/766">ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œíŒŒì¼(Spring Boot Profile)</a></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“š jwp-chess ë¯¸ì…˜ ì •ë¦¬</title>
	  <link>//jwp-chess-note</link>
	  <author></author>
	  <pubDate>2021-06-09T10:01:00+09:00</pubDate>
	  <guid>//jwp-chess-note</guid>
	  <description><![CDATA[
	     <h2 id="controlleradvice">@ControllerAdvice</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/d9838b28-b9fd-4cd3-9f8f-f19229e5da70/image.png" style="zoom: 50%;" /></p>

<ul>
  <li>ì „ì—­ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ”ë° ì‚¬ìš©</li>
</ul>

<h4 id="ì •ë¦¬">ì •ë¦¬</h4>

<p><a href="https://github.com/NewWisdom/TIL/issues/1">@ControllerAdvice, @RestControllerAdvice</a></p>

<h2 id="rest-api">REST API</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/b7428bd8-737e-489a-a59d-d3e8a1adcfd2/image.png" style="zoom:50%;" /></p>

<p><img src="https://images.velog.io/images/new_wisdom/post/3dbc03af-5e1c-4be6-a1e0-7332517831ec/image.png" style="zoom:50%;" /></p>

<ul>
  <li>REST API ì„¤ê³„ ë°©ë²•ì„ ì°¾ì•„ë³´ê³  ê³ ë¯¼í•˜ì—¬ ë°˜ì˜</li>
</ul>

<h4 id="ì •ë¦¬-1">ì •ë¦¬</h4>

<ul>
  <li><a href="https://github.com/NewWisdom/TIL/issues/2">REST API ë””ìì¸</a></li>
</ul>

<h2 id="profile">Profile</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/4fdbb04e-3c16-4a59-954f-b0020d245842/image.png" style="zoom:50%;" /></p>

<ul>
  <li>ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” DBëŠ” Mysql ê·¸ëŒ€ë¡œ ëƒ…ë‘ê³ </li>
  <li>í…ŒìŠ¤íŠ¸ì—ì„œëŠ” h2ë¥¼ ì‚¬ìš©í•˜ì—¬ h2 ì˜ ì¥ì ì„ ê·¹ëŒ€í™”í•´ì„œ ì‚¬ìš©í•˜ë„ë¡ ë¦¬íŒ©ë˜</li>
  <li>í…ŒìŠ¤íŠ¸ DBë¥¼ ë”°ë¡œ ì„¤ì •í•˜ê¸° ìœ„í•´ ì—´ì‹¬íˆ ì°¾ì•„ë³´ë‹¤ê°€ application-propertiesë¥¼ í™œìš©í•˜ëŠ” ë°©ì•ˆ í•™ìŠµ</li>
  <li>ì²˜ìŒì—ëŠ” application-{í™˜ê²½}-propertiesë¡œ ê°ê° íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ì—ˆìŒ</li>
  <li>ì•„ë˜ì™€ ê°™ì€ ë¦¬ë·°ë¥¼ ë°›ê³  test.resourceì— application-propertiesë¥¼ ë§Œë“¤ì–´ì¤Œ</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/5dc4b405-47bc-4422-83f8-eedaa3b7732e/image.png" style="zoom:50%;" /></p>

<p><img src="https://images.velog.io/images/new_wisdom/post/4aa931db-0a73-4ada-9ba2-2bb0e3b3ea3b/image.png" style="zoom:33%;" /></p>

<h4 id="ì •ë¦¬-2">ì •ë¦¬</h4>

<ul>
  <li>Profileì— ëŒ€í•´ ì¶”ê°€ì ìœ¼ë¡œ í•™ìŠµí•˜ê³  ì •ë¦¬</li>
  <li><a href="https://github.com/NewWisdom/TIL/issues/47">Profile</a></li>
</ul>

<h2 id="í…ŒìŠ¤íŠ¸ì—-ê´€í•˜ì—¬">í…ŒìŠ¤íŠ¸ì— ê´€í•˜ì—¬</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/03a3dc16-07b5-48d0-bf51-fbea7bacc9f6/image.png" style="zoom:50%;" /></p>

<ul>
  <li>ì§€ë‚œ ë ˆë²¨ ì²´ìŠ¤ ì½”ë“œ ì˜®ê²¨ì˜¤ë©´ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë¹¼ê³  ì˜®ê²¨ì™”ì—ˆìŒ ğŸ¥²</li>
  <li>ë°ì´ë¸Œì˜ ê¶Œìœ ëŒ€ë¡œ ê° ë ˆì´ì–´ë³„ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±</li>
  <li>ì²˜ìŒì—ëŠ” ë‹¨ìˆœíˆ <code class="highlighter-rouge">@SpringBootTest</code> (í†µí•©í…ŒìŠ¤íŠ¸)ë¡œ ì§„í–‰í•˜ë ¤ í–ˆìŒ</li>
  <li>ì°¾ì•„ë³´ë‹ˆ ê° ë ˆì´ì–´ë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œë„ êµ¬í˜„í•  ìˆ˜ ìˆìŒì„ ê¹¨ë‹¬ìŒ</li>
  <li><code class="highlighter-rouge">@WebMvcTest, @jdbcTest</code>ì„ í†µí•´ Controllerì™€ Repository ë ˆì´ì–´ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„</li>
</ul>

<h4 id="ì •ë¦¬-3">ì •ë¦¬</h4>

<ul>
  <li><a href="https://newwisdom.github.io/unit-test-vs">í†µí•© í…ŒìŠ¤íŠ¸ VS ë‹¨ìœ„ í…ŒìŠ¤íŠ¸</a></li>
</ul>

<h2 id="í•™ìŠµí•˜ë¼ê³ -ë˜ì ¸ì£¼ì‹ -í‚¤ì›Œë“œ">í•™ìŠµí•˜ë¼ê³  ë˜ì ¸ì£¼ì‹  í‚¤ì›Œë“œ</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/9147f41d-e48f-479d-8573-2f23fcbff416/image.png" style="zoom:50%;" /></p>

<h4 id="ì •ë¦¬-4">ì •ë¦¬</h4>

<ul>
  <li><a href="https://github.com/NewWisdom/TIL/issues/3#issue-862548280">@ResponsebodyëŠ” ì–´ë–¤ ì—­í• ì„ í•´ì¤„ê¹Œ?</a></li>
  <li><a href="https://github.com/NewWisdom/TIL/issues/4#issue-862590487">@Componentscan</a></li>
  <li><a href="https://github.com/NewWisdom/TIL/issues/5#issue-862591289">ìŠ¤í”„ë§ì˜ DI ë°©ë²•</a></li>
  <li><a href="https://github.com/NewWisdom/TIL/issues/6">Springì—ì„œ request ì²˜ë¦¬ ê³¼ì •</a></li>
</ul>

<h2 id="ì´ë²ˆ-ë¯¸ì…˜ì—ì„œ-ì´ëŸ°-í‚¤ì›Œë“œë“¤ì„-í•™ìŠµí–ˆìŒ-">ì´ë²ˆ ë¯¸ì…˜ì—ì„œ ì´ëŸ° í‚¤ì›Œë“œë“¤ì„ í•™ìŠµí–ˆìŒ ğŸ‘»</h2>

<ul>
  <li><a href="https://github.com/NewWisdom/TIL/issues?q=is%3Aissue+is%3Aopen+label%3Ajwp-chess">ë‚´ ê¹ƒí—™ issueì— ë“±ë¡í–ˆì§€ë¡±</a></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ í…ŒìŠ¤íŠ¸ë¡œ ë°°ìš°ëŠ” Spring Auth ê°•ì˜</title>
	  <link>//lecture-auth</link>
	  <author></author>
	  <pubDate>2021-05-28T19:18:00+09:00</pubDate>
	  <guid>//lecture-auth</guid>
	  <description><![CDATA[
	     <h2 id="í”¼ë“œë°±-ê°•ì˜">í”¼ë“œë°± ê°•ì˜</h2>

<h3 id="ì¸ì¦-í—¤ë”">ì¸ì¦ í—¤ë”</h3>

<p>ë¡œê·¸ì¸ì„ í†µí•´ í† í°ì„ ë°œê¸‰ ë°›ì€ í›„ í—¤ë”ì— Authorizationì— í† í°ì„ ì‹¤ì–´ë³´ë‚¸ë‹¤.<br />
ì™œ êµ³ì´ ì´ í—¤ë”ì— í† í°ì„ ë„£ì–´ ë³´ë‚¼ê¹Œ?</p>

<h3 id="http-ì¸ì¦">HTTP ì¸ì¦</h3>

<p><img src="https://images.velog.io/images/new_wisdom/post/567b6a87-15f7-4409-be6a-2a4baf9b3ffb/image.png" style="zoom:50%;" /></p>

<p>HTTP í”„ë¡œí† ì½œì˜ ì •ì˜ì´ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<ol>
  <li>í´ë¼ì´ì–¸íŠ¸ê°€ â€œ/â€ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.</li>
  <li>ì„œë²„ëŠ” ì ‘ê·¼ì„ í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ì—†ìœ¼ë©´ 401ì„ ë³´ë‚¸ë‹¤.</li>
  <li>ì—¬ê¸°ì„œëŠ” basicì´ë¼ëŠ” ë°©ì‹ìœ¼ë¡œ í† í°ì„ ê²€ì¦í•˜ê³  ìˆë‹¤. ì˜ëª»ë˜ì—ˆìœ¼ë‹ˆ ë‹¤ì‹œ ìš”ì²­í•´!</li>
</ol>

<h3 id="http-ì¸ì¦-ìŠ¤í‚´">HTTP ì¸ì¦ ìŠ¤í‚´</h3>

<h4 id="basic">Basic</h4>

<p><img src="https://images.velog.io/images/new_wisdom/post/0e9a8db3-4221-43a8-84fa-c2f81f371ab1/image.png" style="zoom:33%;" /></p>

<ul>
  <li>base64ë¥¼ ì´ìš©í•´ ì¸ì½”ë”©ëœ ì‚¬ìš©ìì˜ id/pw ìŒì˜ ì¸ì¦ ì •ë³´ë¥¼ ì „ë‹¬</li>
  <li>ì•ˆì „ì„ ìœ„í•´ HTTPS(TLS) ì—°ê²° ìœ„ì—ì„œ ë°œìƒë˜ì–´ì•¼ í•¨</li>
</ul>

<h4 id="bearer">Bearer</h4>

<p><img src="https://images.velog.io/images/new_wisdom/post/d631b9a8-b41d-438e-8038-6299f044616a/image.png" style="zoom:33%;" /></p>

<ul>
  <li>bearer tokenì´ë¼ëŠ” ë³´ì•ˆ í† í°ì„ í™œìš©í•˜ëŠ” ì¸ì¦ ìŠ¤í‚´</li>
  <li>Outh2.0ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§</li>
</ul>

<h2 id="jwt">JWT</h2>

<ul>
  <li>Json Web Token</li>
  <li>ì›¹ í‘œì¤€ (RFC 7519)</li>
  <li>ìì²´ì ìœ¼ë¡œ ê²€ì¦ë˜ì—ˆìŒì„ ì¦ëª…í•´ì£¼ëŠ” signatureë¥¼ í¬í•¨</li>
  <li>ìƒì„±ì‹œ ê²€ì¦ì´ë‚˜ ê¶Œí•œ ì¸ê°€ ì‹œ í•„ìš”í•œ ê°’ì„ ë„£ì–´ ìƒíƒœë¥¼ ë”°ë¡œ ê´€ë¦¬í•˜ì§€ ì•Šì•„ë„ ë¨</li>
</ul>

<h3 id="í† í°ì˜-êµ¬ì„±">í† í°ì˜ êµ¬ì„±</h3>

<p><img src="https://images.velog.io/images/new_wisdom/post/1bcb51b5-e245-4389-9b50-a6d91bc27d2d/image.png" style="zoom:50%;" /></p>

<h4 id="1-header">1. Header</h4>

<ul>
  <li>í† í°ì— ëŒ€í•œ í•´ì„ ë°©ë²•</li>
  <li>alg : ì‹œê·¸ë‹ˆì²˜ì—ì„œ ì‚¬ìš©í•  ì•Œê³ ë¦¬ì¦˜ ë°©ë²•</li>
  <li>typ : í† í°ì˜ íƒ€ì…</li>
</ul>

<h4 id="2-payload">2. Payload</h4>

<ul>
  <li>í† í°ì˜ ë‚´ìš©, ì „ë‹¬í•  ë‚´ìš©</li>
  <li>payloadì˜ ê°ê°ì˜ ê°’ì„ í´ë ˆì„ì´ë¼ê³  í•¨</li>
  <li>sub : í´ë ˆì„ì˜ ì œëª©</li>
  <li>name :</li>
  <li>iat : ìƒì„± ì‹œê°„</li>
  <li>ì´ ì—­ì‹œë„ base64ë¡œ ì¸ì½”ë”©</li>
</ul>

<h4 id="3-signature">3. Signature</h4>

<ul>
  <li>í—¤ë”ì™€ í˜ì´ë¡œë“œê°€ ë³€ì¡°ë˜ì§€ ì•Šì•˜ìŒì„ ê²€ì¦Œ</li>
  <li>base64ë¡œ ì¸ì½”ë”©ì„ í•˜ê³ , ì•Œê³ ë¦¬ì¦˜ê³¼ í‚¤ê°’ìœ¼ë¡œ í•´ë…</li>
</ul>

<p><strong>basicê³¼ bearer ë‘˜ ë‹¤ base64ë¡œ ì¸ì½”ë”© í•˜ë©´ ì–´ë–»ê²Œ êµ¬ë³„í•˜ë‚˜ìš”?</strong></p>

<p>ì´ëŠ” ì„œë²„ì—ì„œ í˜ì´í¬ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆì§€!</p>

<p><strong>payloadê°€ ê°™ìœ¼ë©´ í† í° ê°’ë„ ê°™ì•„ì§€ë‚˜ìš”?</strong></p>

<p>ê·¼ë° ì•„ë§ˆ iatê°€ ë‹¬ë¼ì„œ ë‹¤ë¥¼ ìˆ˜ ë°–ì— ì—†ì„ ë“¯</p>

<hr />

<h2 id="dispatcher-servlet">Dispatcher Servlet</h2>

<h3 id="ìš”ì²­ì—-ë”°ë¼-ìˆ˜í–‰í• -ë¡œì§-ë¶„ê¸°">ìš”ì²­ì— ë”°ë¼ ìˆ˜í–‰í•  ë¡œì§ ë¶„ê¸°</h3>

<h3 id="dispatcherservlet-ìœ„ì¹˜">DispatcherServlet ìœ„ì¹˜</h3>

<p><img src="https://images.velog.io/images/new_wisdom/post/a3187c31-d891-43dc-af7a-bb4cde6ab4b0/image.png" style="zoom:50%;" /></p>

<ul>
  <li>Handler ì•ì— Interceptorê°€ ìˆìŒ</li>
</ul>

<p>MVC Config ê°ì²´ë„ ëª¨ë‘ ë¹ˆì´ì—ˆë‹¤.</p>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Kotlinì„ ì •ë³µí•´ë´…ì‹œë‹¤ 2</title>
	  <link>//kotlin2</link>
	  <author></author>
	  <pubDate>2021-05-26T19:18:00+09:00</pubDate>
	  <guid>//kotlin2</guid>
	  <description><![CDATA[
	     <h2 id="ì½”í‹€ë¦°-dsl">ì½”í‹€ë¦° DSL</h2>

<h3 id="dlsë€">DLSë€?</h3>

<ul>
  <li>ë„ë©”ì¸ íŠ¹í™” ì–¸ì–´ (Domain-specific language) â†”ï¸ ë²”ìš© í”„ë¡œê·¸ë˜ë° ì–¸ì–´</li>
  <li>ì„ ì–¸ì  ì–¸ì–´</li>
  <li>ì„¸ë¶€ ì‹¤í–‰ì€ ì–¸ì–´ë¥¼ í•´ì„í•˜ëŠ” ì—”ì§„ì— ë§¡ê¹€</li>
  <li>ì»´íŒŒì¼ ì‹œì ì— ì œëŒ€ë¡œ ê²€ì¦í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›€</li>
</ul>

<h3 id="ì½”í‹€ë¦°-dslì´ë€">ì½”í‹€ë¦° DSLì´ë€?</h3>

<ul>
  <li>ë²”ìš© ì–¸ì–´(= ì½”í‹€ë¦°)ë¡œ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì˜ ì¼ë¶€</li>
  <li>ë²”ìš© ì–¸ì–´ì™€ ë™ì¼í•œ ë¬¸ë²• ì‚¬ìš©</li>
  <li>í˜¸ì¶œ ê²°ê³¼ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•  í•„ìš” ì—†ìŒ</li>
  <li>íƒ€ì… ì•ˆì •ì„± ë³´ì¥</li>
</ul>

<h3 id="ì½”í‹€ë¦°ì€-ê°„ê²°í•œ-êµ¬ë¬¸ì„-ì–´ë–»ê²Œ-ì§€ì›í•˜ëŠ”ê°€">ì½”í‹€ë¦°ì€ ê°„ê²°í•œ êµ¬ë¬¸ì„ ì–´ë–»ê²Œ ì§€ì›í•˜ëŠ”ê°€?</h3>

<ul>
  <li>í™•ì¥ í•¨ìˆ˜</li>
  <li>ì¤‘ìœ„ í˜¸ì¶œ</li>
  <li>ì—°ì‚°ì ì˜¤ë²„ë¡œë”©</li>
  <li>get ë©”ì„œë“œì— ëŒ€í•œ ê´€ë¡€</li>
  <li>ëŒë‹¤ë¥¼ ê´„í˜¸ ë°–ìœ¼ë¡œ ë¹¼ëŠ” ê´€ë¡€</li>
  <li>ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤</li>
</ul>

<h3 id="í™•ì¥-í•¨ìˆ˜-extension-functions">í™•ì¥ í•¨ìˆ˜ Extension functions</h3>

<ul>
  <li>ì½”í‹€ë¦°ì€ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•´ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ ì§€ì›</li>
  <li><code class="highlighter-rouge">ìƒì†</code> ê³¼ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ ê°œë…</li>
  <li>ex) ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ì´ ìì²´ í´ë˜ìŠ¤ëŠ” ë³€ê²½í•  ìˆ˜  ì—†ì§€ë§Œ ì´ë¥¼ í™•ì¥í•´ ì›í•˜ëŠ” ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Kotlin"</span><span class="p">.</span><span class="n">lastChar</span><span class="p">()</span>

<span class="k">fun</span> <span class="nf">String</span><span class="p">.</span><span class="n">lastChar</span><span class="p">():</span> <span class="n">Char</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">length</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="ì¤‘ìœ„-í‘œê¸°-infix-notation">ì¤‘ìœ„ í‘œê¸° Infix notation</h3>

<h4 id="ì¤‘ìœ„í‘œê¸°ë²•">ì¤‘ìœ„í‘œê¸°ë²•?</h4>

<p><strong>infix(ì¤‘ìœ„í‘œê¸°ë²•)</strong> : ì¼ìƒìƒí™œì—ì„œì˜ ìˆ˜ì‹ í‘œê¸°ë²•ìœ¼ë¡œ ë‘ ê°œì˜ í”¼ì—°ì‚°ì ì‚¬ì´ì— ì—°ì‚°ìê°€ ì¡´ì¬í•˜ëŠ” í‘œí˜„ë°©ì‹ì´ë‹¤.  ex) X + Y</p>

<p>Kotlinì—ì„œ <code class="highlighter-rouge">infix</code> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ìœ„í‘œê¸°ë²•ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. ë‹¨, ì•„ë˜ ìš”ê±´ì„ ì¶©ì¡±í•´ì•¼ í•œë‹¤.</p>

<ul>
  <li>They must be member functions or extension functions. (ë©¤ë²„ í•¨ìˆ˜ í˜¹ì€ í™•ì¥ í•¨ìˆ˜ì¼ ë•Œ)</li>
  <li>They must have a single parameter. (ë‹¨ì¼ ë§¤ê°œ ë³€ìˆ˜ì¼ ë•Œ)</li>
  <li>The parameter must not accept a variable number of arguments and must have no default value. (ê°€ë³€ì¸ìë¥¼ ë°›ìœ¼ë©´ ì•ˆë˜ê³  ê¸°ë³¸ ê°’ì„ ê°€ì§€ë©´ ì•ˆëœë‹¤.)</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="m">1</span> <span class="n">to</span> <span class="s">"one"</span>

<span class="k">infix</span> <span class="k">fun</span> <span class="nf">Any</span><span class="p">.</span><span class="n">to</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="p">=</span> <span class="n">Pair</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ì—°ì‚°ì-ì˜¤ë²„ë¡œë”©-operator-overloading">ì—°ì‚°ì ì˜¤ë²„ë¡œë”© Operator overloading</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Point</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span> <span class="p">+</span> <span class="n">Point</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>

<span class="kd">data class</span> <span class="nc">Point</span><span class="p">(</span><span class="kd">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="kd">val</span> <span class="py">y</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">operator</span> <span class="k">fun</span> <span class="nf">plus</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">Point</span><span class="p">):</span> <span class="n">Point</span> <span class="p">=</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span> <span class="p">+</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="p">+</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>plus í•¨ìˆ˜ ì•ì— <code class="highlighter-rouge">operator</code> í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì„ í•˜ëŠ” í•¨ìˆ˜ì„ì„ ëª…ì‹œ</li>
  <li>í™•ì¥ í•¨ìˆ˜ë¡œ ì •ì˜í•  ìˆ˜ë„ ìˆìŒ</li>
</ul>

<h4 id="ì´í•­-ì‚°ìˆ -ì—°ì‚°-ì˜¤ë²„ë¡œë”©">ì´í•­ ì‚°ìˆ  ì—°ì‚° ì˜¤ë²„ë¡œë”©</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">ì—°ì‚° ìš°ì„ ìˆœìœ„</th>
      <th style="text-align: center">ì‹</th>
      <th style="text-align: center">í•¨ìˆ˜ ì´ë¦„</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">a * b</td>
      <td style="text-align: center">times</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">a / b</td>
      <td style="text-align: center">div</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">a % b</td>
      <td style="text-align: center">mod(1.1ë¶€í„° rem)</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">a + b</td>
      <td style="text-align: center">plus</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">a - b</td>
      <td style="text-align: center">minus</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>ë” ë§ì€ ì—°ì‚°ìì— ëŒ€í•œ ë©”ì„œë“œëŠ” <strong><a href="https://kotlinlang.org/docs/operator-overloading.html#unary-prefix-operators">ê³µì‹ë¬¸ì„œ</a></strong> ì°¸ê³ </li>
</ul>

<h3 id="get-ë©”ì„œë“œì—-ëŒ€í•œ-ê´€ë¡€-indexed-access-operator">get ë©”ì„œë“œì— ëŒ€í•œ ê´€ë¡€ Indexed access operator</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">names</span> <span class="p">=</span> <span class="n">listOf</span><span class="p">(</span><span class="s">"am"</span><span class="p">,</span> <span class="s">"mazzi"</span><span class="p">)</span>
<span class="n">names</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="n">names</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
</code></pre></div></div>

<ul>
  <li>getì´ ì•„ë‹Œ ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•œë‹¤.</li>
</ul>

<h3 id="ëŒë‹¤ë¥¼-ê´„í˜¸-ë°–ìœ¼ë¡œ-ë¹¼ë‚´ëŠ”-ê´€ë¡€-passing-a-lambda-to-the-last-parameter">ëŒë‹¤ë¥¼ ê´„í˜¸ ë°–ìœ¼ë¡œ ë¹¼ë‚´ëŠ” ê´€ë¡€ Passing a lambda to the last parameter</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check</span><span class="p">(</span><span class="k">false</span><span class="p">)</span> <span class="p">{</span> <span class="s">"Check failed."</span> <span class="p">}</span>
</code></pre></div></div>

<h3 id="ìˆ˜ì‹ -ê°ì²´-ì§€ì •-ëŒë‹¤-lambda-with-receiver">ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ Lambda with receiver</h3>

<ul>
  <li>ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì“¸ ë•Œ ë‚´ê°€ ìì£¼ ì“°ê³ ì‹¶ì€ ê°ì²´ë¥¼ ë¯¸ë¦¬ ì§€ì •í•´ì„œ ì‚¬ìš©í•˜ëŠ” ëŒë‹¤</li>
</ul>

<h4 id="ìˆ˜ì‹ -ê°ì²´">ìˆ˜ì‹  ê°ì²´?</h4>

<ul>
  <li>í™•ì¥ í•¨ìˆ˜ì—ì„œì˜ thisëŠ” í™•ì¥ëœ í´ë˜ìŠ¤ì˜ ê°ì²´</li>
  <li>ì¦‰ í™•ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê·¸ ê°ì²´ë¥¼ ì˜ë¯¸í•˜ëŠ”ë° ì´ ê°ì²´ê°€ ë°”ë¡œ ìˆ˜ì‹  ê°ì²´</li>
</ul>

<h4 id="with">with</h4>

<ul>
  <li>ì²« ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ê°ì²´ë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ëŒë‹¤ì˜ ìˆ˜ì‹  ê°ì²´ë¡œ ë§Œë“¦</li>
</ul>

<p><strong>withë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš°</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="n">String</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">result</span> <span class="p">=</span> <span class="n">StringBuilder</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">)</span> <span class="p">{</span>
    	<span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"\nNow I know this alphabet!"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">result</code> ì˜ ì¤‘ë³µì´ ë°œìƒ</li>
</ul>

<h4 id="withë¥¼-ì‚¬ìš©í•œ-ê²½ìš°">withë¥¼ ì‚¬ìš©í•œ ê²½ìš°</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="n">String</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">stringBuilder</span> <span class="p">=</span> <span class="n">StringBuilder</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">with</span><span class="p">(</span><span class="n">stringBuilder</span><span class="p">)</span> <span class="p">{</span>
    	<span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">)</span> <span class="p">{</span>
    		<span class="k">this</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    	<span class="p">}</span>
        <span class="n">append</span><span class="p">(</span><span class="s">"\n amazzi~~~!"</span><span class="p">)</span>
        <span class="k">this</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ë¶ˆí•„ìš”í•œ stringBuilder ë³€ìˆ˜ë¥¼ ì—†ì• ë©´ alpabet í•¨ìˆ˜ê°€ ì‹ì˜ ê²°ê³¼ë¥¼ ë°”ë¡œ ë°˜í™˜í•˜ê²Œ ëœë‹¤.
// ëŒë‹¤ ì‹ì˜ ë³¸ë¬¸ì— ìˆëŠ” ë§ˆì§€ë§‰ ì‹ì˜ ê°’ì„ ë°˜í™˜
</span><span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="n">String</span> <span class="p">=</span> <span class="n">with</span><span class="p">(</span><span class="n">StringBuilder</span><span class="p">())</span> <span class="p">{</span>
    	<span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">)</span> <span class="p">{</span>
    		<span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    	<span class="p">}</span>
        <span class="n">append</span><span class="p">(</span><span class="s">"\nNow I know this alphabet!"</span><span class="p">)</span>
        <span class="n">toString</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>with(stringBuilder, { â€¦ }) ì™€ ê°™ì€ ëŒë‹¤ í•¨ìˆ˜</li>
</ul>

<h4 id="apply">apply</h4>

<ul>
  <li>withì™€ ìœ ì‚¬</li>
  <li>ìœ ì¼í•œ ì°¨ì´ëŠ” í•­ìƒ ìì‹ ì—ê²Œ ì „ë‹¬ëœ ê°ì²´ë¥¼ ë°˜í™˜</li>
  <li>ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ë©´ì„œ ì¦‰ì‹œ í”„ë¡œí¼í‹° ì¤‘ ì¼ë¶€ë¥¼ ì´ˆê¸°í™”í•´ì•¼ë˜ëŠ” ê²½ìš° ìœ ìš©</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">alphabet</span><span class="p">():</span> <span class="n">String</span> <span class="p">=</span> <span class="n">StringBuilder</span><span class="p">().</span><span class="n">apply</span> <span class="p">{</span>
    	<span class="k">for</span> <span class="p">(</span><span class="n">letter</span> <span class="k">in</span> <span class="sc">'A'</span><span class="o">..</span><span class="sc">'Z'</span><span class="p">)</span> <span class="p">{</span>
    		<span class="n">append</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
    	<span class="p">}</span>
        <span class="n">append</span><span class="p">(</span><span class="s">"\nNow I know this alphabet!"</span><span class="p">)</span>
    <span class="p">}.</span><span class="n">toString</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="ì´ˆê¸°í™”ë¥¼-ì§€ì—°í•˜ëŠ”-ë°©ë²•">ì´ˆê¸°í™”ë¥¼ ì§€ì—°í•˜ëŠ” ë°©ë²•</h3>

<ul>
  <li>ì½”í‹€ë¦°ì—ì„œëŠ” ë³€ìˆ˜ ì„ ì–¸ì„ ë¨¼ì €í•˜ê³ , ì´ˆê¸°íšŒëŠ” ë’¤ë¡œ ë¯¸ë£¨ëŠ” ê¸°ëŠ¥ë“¤ì„ ì œê³µ</li>
  <li>ì‚¬ìš©í• ì§€ ëª¨ë¥¸ëŠ” ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì´ˆê¸°í™”í•  í•„ìš”ê°€ ì—†ì–´ ì„±ëŠ¥ í–¥ìƒì— ë„ì›€</li>
</ul>

<h4 id="lateinit">lateInit</h4>

<ul>
  <li>í•„ìš”í•  ë•Œ ì´ˆê¸°í™”í•˜ê³  ì‚¬ìš©</li>
  <li>ì´ˆê¸°í™” í•˜ì§€ ì•Šê³  ì‚¬ìš©í•˜ë©´ ì˜ˆì™¸ ë°œìƒ</li>
  <li><code class="highlighter-rouge">var</code> ì—ë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
  <li>ì›ì‹œ íƒ€ì…ì—ëŠ” ì ìš©í•  ìˆ˜ ì—†ìŒ</li>
  <li>custom getter/setter ì‚¬ìš© ë¶ˆê°€
    <ul>
      <li></li>
    </ul>
  </li>
  <li>non-null í”„ë¡œí¼í‹°ë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
</ul>

<h4 id="lazy">lazy</h4>

<ul>
  <li>ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ì´ˆê¸°í™” ì½”ë“œë„ í•¨ê»˜ ì •ì˜</li>
  <li>ë³€ìˆ˜ê°€ ì‚¬ìš©ë  ë•Œ ì´ˆê¸°í™” ì½”ë“œë„ ë™ì‘í•˜ì—¬ ë³€ìˆ˜ê°€ ì´ˆê¸°í™” ë¨</li>
</ul>

<hr />

<h2 id="0602-ì½”ë“œë¦¬ë·°">0602 ì½”ë“œë¦¬ë·°</h2>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">enum</span> <span class="kd">class</span> <span class="nc">Symbol</span><span class="p">(</span><span class="kd">val</span> <span class="py">symbol</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">DIAMOND</span><span class="p">(</span><span class="s">"ë‹¤ì´ì•„ëª¬ë“œ"</span><span class="p">),</span>
    <span class="n">SPADE</span><span class="p">(</span><span class="s">"ìŠ¤í˜ì´ë“œ"</span><span class="p">),</span>
    <span class="n">HEART</span><span class="p">(</span><span class="s">"í•˜íŠ¸"</span><span class="p">),</span>
    <span class="n">CLOVER</span><span class="p">(</span><span class="s">"í´ë¡œë²„"</span><span class="p">),</span>
  <span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>1.4ë¶€í„° <code class="highlighter-rouge">,</code> ë¡œ ëë‚˜ë„ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ì•ˆë‚¨</li>
</ul>

<h3 id="propertyì™€-field">Propertyì™€ Field</h3>

<h4 id="field">Field</h4>

<ul>
  <li>ë‹¨ìˆœíˆ ê°’ë§Œ ê°€ì§</li>
  <li>ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ë³€ê²½í•  ë•ŒëŠ” ì§ì ‘ ì°¸ì¡°</li>
  <li>í•¨ìˆ˜ë‚˜ ë¸”ë¡ ë‚´ë¶€ì— ì„ ì–¸ëœ ì§€ì—­ ë³€ìˆ˜ëŠ” ëª¨ë‘ í•„ë“œë¡œ ê°„ì£¼</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">count</span> <span class="p">=</span> <span class="m">100</span> <span class="c1">// ë©”ëª¨ë¦¬ê°€ í• ë‹¹ë˜ê³  ê°’ì´ ì €ì¥ë¨
</span><span class="n">println</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="c1">// count ë³€ìˆ˜ê°’ì„ ì§ì ‘ ì°¸ì¡°í•˜ì—¬ ê°€ì ¸ì˜´
</span><span class="n">count</span> <span class="p">+=</span> <span class="m">200</span> <span class="c1">// count ë³€ìˆ˜ê°’ì„ ì§ì ‘ ë³€ê²½
</span></code></pre></div></div>

<h4 id="property">Property</h4>

<ul>
  <li>ìµœìƒìœ„ ë³€ìˆ˜(í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ ì™¸ë¶€ì— ì •ì˜ë¨)ë‚˜ í´ë˜ìŠ¤ì˜ ë©¤ë²„ ë³€ìˆ˜ë¡œ ì„ ì–¸ë¨</li>
  <li>ì„ ì–¸ ì‹œ í•´ë‹¹ ì†ì„±ì˜ getter/ setterê°€ ìë™ìœ¼ë¡œ ìƒì„±ë¨</li>
  <li><code class="highlighter-rouge">val</code> ë¡œ ì„ ì–¸ì‹œ getter ë§Œ ìƒì„±ë¨</li>
  <li>ê°’ì„ ê°€ì§€ì§€ë§Œ ì†ì„±ì˜ ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ë³€ê²½í•  ë•ŒëŠ” ìë™ìœ¼ë¡œ ê´€ë ¨ í•¨ìˆ˜ê°€ í˜¸ì¶œë¨
    <ul>
      <li>ì´ë¥¼ <strong>ì ‘ê·¼ì</strong> ë¼ê³  í•¨</li>
    </ul>
  </li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">count</span> <span class="p">=</span> <span class="m">100</span> <span class="c1">// ë©”ëª¨ë¦¬ê°€ í• ë‹¹ë˜ê³  ê°’ì´ ì €ì¥ë¨
</span><span class="n">println</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="c1">// count ì†ì„±ì˜ ì ‘ê·¼ìê°€ í˜¸ì¶œë˜ì–´ ì†ì„±ê°’ì„ ë°˜í™˜
</span><span class="n">count</span> <span class="p">+=</span> <span class="m">200</span> <span class="c1">// count ì†ì„±ì˜ ì ‘ê·¼ìê°€ í˜¸ì¶œë˜ì–´ ì†ì„±ê°’ì„ ë³€í™˜
</span></code></pre></div></div>

<p><strong>ì—¥ ê·¼ë° í•„ë“œì™€ ë™ì¼í•˜ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ”ë°? ğŸ¤”</strong></p>

<ul>
  <li>í”„ë¡œê·¸ë˜ë¨¸ê°€ ë³´ëŠ” ê´€ì ì—ì„œëŠ” ê°™ì§€ë§Œ, ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ëŠ” ë‹¤ë¥´ê²Œ ë™ì‘í•¨</li>
  <li>ë‹¤ìŒê³¼ ê°™ì´ count  ì†ì„±ì˜ ì ‘ê·¼ìë¥¼ ìë™ìœ¼ë¡œ ìƒì„±</li>
  <li>count ì†ì„±ì˜ ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ë³€ê²½í•  ë•Œ ìë™ìœ¼ë¡œ í˜¸ì¶œ ë¨</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">couhnt</span> <span class="p">=</span> <span class="m">100</span>
	<span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">field</span>
	<span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">field</span> <span class="p">=</span> <span class="n">value</span>
  <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">get()</code> ê³¼ <code class="highlighter-rouge">set()</code> ì´ ì ‘ê·¼ì</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
  <span class="n">pro1</span> <span class="p">+=</span> <span class="n">pro2</span>
  <span class="n">println</span><span class="p">(</span><span class="n">pro1</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="py">pro1</span> <span class="p">=</span> <span class="m">100</span> <span class="c1">// ìµœìƒìœ„ ìˆ˜ì¤€ì˜ ë³€ìˆ˜ì´ë¯€ë¡œ ì†ì„±ì„
</span><span class="kd">var</span> <span class="py">pro2</span> <span class="p">=</span> <span class="m">200</span> <span class="c1">// ìµœìƒìœ„ ìˆ˜ì¤€ì˜ ë³€ìˆ˜ì´ë¯€ë¡œ ì†ì„±ì„
</span></code></pre></div></div>

<ul>
  <li>pro2ì˜ ê²Œí„°ê°€ í˜¸ì¶œë˜ì–´ ê°’ì„ ê°€ì ¸ì˜´</li>
  <li>pro1ì˜ ê²Œí„°ì—ì„œ ë°˜í™˜ëœ ê°’ê³¼ ë”í•¨</li>
  <li>ì´ ê°’ì´ pro1ì˜ ì„¸í„°ì˜ ì¸ìë¡œ ì „ë‹¬ë˜ì–´ pro1ì˜ ê°’ì´ ë³€ê²½ë¨</li>
  <li>pro1 ê²Œí„°ì—ì„œ ë°˜í™˜ëœ ê°’ì„ ì¶œë ¥</li>
</ul>

<p>í”„ë¡œí¼í‹°ì— <code class="highlighter-rouge">=</code> ì„ ì´ìš©í•´ì„œ í• ë‹¹í•˜ëŠ”ê±°ë‘ getì„ ì‚¬ìš©í•´ì„œ</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">shouldDraw</span>  <span class="p">=</span> <span class="n">cards</span><span class="p">.</span><span class="n">score</span><span class="p">()</span>
<span class="kd">val</span> <span class="py">shouldDraw2</span> <span class="p">:</span> <span class="n">Boolean</span>
<span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">cards</span><span class="p">.</span><span class="n">scroe</span><span class="p">()</span>
</code></pre></div></div>

<ul>
  <li>getì„ ì“°ëŠ” ê²ƒì€ ë§¤ë²ˆ ëŒë•Œë§ˆë‹¤ ê³„ì‚°ì´ ë¨</li>
  <li>í”„ë¡œí¼í‹°ì— ì ‘ê·¼ì€ ê³„ì‚°ë˜ì–´ ìˆëŠ” ê°’ì„ ì”€</li>
</ul>

<h3 id="backing-fields">Backing fieldsï»¿</h3>

<ul>
  <li>ì»¤ìŠ¤í…€ getterì™€ setterë¥¼ ì œê³µí•  ê²½ìš° ì‚¬ìš©</li>
  <li>ì†ì„±ì´ í•„ë“œì˜ ê°’ì„ í•„ìš”ë¡œ í•  ë•Œ ì½”í‹€ë¦°ì€ ì§€ì› í•„ë“œ í‚¤ì›Œë“œë¥¼ ì œê³µ</li>
  <li>getterì™€ setter ë²”ìœ„ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
  <li><code class="highlighter-rouge">field</code> ì§€ì‹œìë¥¼ í†µí•´ ì†ì„±ì˜ ê²Œí„°ë‚˜ ì„¸í„°ì—ì„œ ì‚¬ìš©</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">counter</span> <span class="p">=</span> <span class="m">0</span> <span class="c1">// the initializer assigns the backing field directly
</span>    <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">value</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
            <span class="n">field</span> <span class="p">=</span> <span class="n">value</span>
            <span class="c1">// counter = value // ERROR StackOverflow: Using actual name 'counter' would make setter recursive
</span>    <span class="p">}</span>
</code></pre></div></div>

<p>ì•„ë˜ ì˜ˆì œì˜ <code class="highlighter-rouge">this</code>ëŠ” backing fieldê°€ ì•„ë‹˜</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">isEmpty</span><span class="p">:</span> <span class="n">Boolean</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">==</span> <span class="m">0</span>
</code></pre></div></div>

<h3 id="backing-properties">Backing propertiesï»¿</h3>

<ul>
  <li>Backing fieldsï»¿ì˜ ì²´ê³„ì— ë§ì§€ ì•ŠëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ê²½ìš° ì´ëŠ” Backing propertiesï»¿ê°€ ë¨</li>
</ul>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Skills</span><span class="p">(</span><span class="n">skills</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">_skills</span><span class="p">:</span> <span class="n">MutableList</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">skills</span><span class="p">.</span><span class="n">toMutableList</span><span class="p">()</span>
    <span class="kd">val</span> <span class="py">skills</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">=</span> <span class="n">_skills</span><span class="p">.</span><span class="n">toList</span><span class="p">()</span>

    <span class="k">fun</span> <span class="nf">soft</span><span class="p">(</span><span class="n">soft</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">_skills</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">soft</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">hard</span><span class="p">(</span><span class="n">hard</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">_skills</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">hard</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="as-í‚¤ì›Œë“œ-ì‚¬ìš©í•´ë„-ë˜ë‚˜ì—¬"><code class="highlighter-rouge">as</code> í‚¤ì›Œë“œ ì‚¬ìš©í•´ë„ ë˜ë‚˜ì—¬?</h3>

<ul>
  <li><code class="highlighter-rouge">val results = resultBoard.values as List&lt;GameResult&gt;</code></li>
  <li>ìë°”ì˜ íƒ€ì… ë³€í™˜ê³¼ ê°™ì€ ê²ƒ</li>
</ul>

<hr />

<h3 id="ì°¸ê³ -ìë£Œ">ì°¸ê³  ìë£Œ</h3>

<ul>
  <li><a href="https://itandhumanities.tistory.com/28">ì½”í‹€ë¦° ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ : withì™€ apply</a></li>
</ul>


	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ í…ŒìŠ¤íŠ¸ë¡œ ë°°ìš°ëŠ” Spring Configuration ê°•ì˜</title>
	  <link>//spring-configuration-lec</link>
	  <author></author>
	  <pubDate>2021-05-25T19:18:00+09:00</pubDate>
	  <guid>//spring-configuration-lec</guid>
	  <description><![CDATA[
	     <h2 id="ë°°ê²½-ì§€ì‹-ê°•ì˜">ë°°ê²½ ì§€ì‹ ê°•ì˜</h2>

<p>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì™€ ìŠ¤í”„ë§ë¹ˆ</p>

<h3 id="ì»¨í…Œì´ë„ˆ">ì»¨í…Œì´ë„ˆ</h3>

<p>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë¹ˆì„ ë“±ë¡í•˜ê¸° ìœ„í•´ì„œëŠ” Configurationì´ í•„ìš”í•˜ë‹¤.</p>

<ul>
  <li>XML</li>
  <li>Annotation ê¸°ë°˜ì˜ configuration</li>
  <li>java bean  configuration</li>
</ul>

<h3 id="xmlë¡œ-configuration-ì„¤ì •í•˜ëŠ”-ì˜ˆì‹œ">XMLë¡œ Configuration ì„¤ì •í•˜ëŠ” ì˜ˆì‹œ</h3>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
       <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"userRepository"</span> <span class="na">class=</span><span class="s">"nextstep.helloworld.core.xmlConfig.UserRepository"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"userService"</span> <span class="na">class=</span><span class="s">"nextstep.helloworld.core.xmlConfig.UserService"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"userRepository"</span> <span class="na">ref=</span><span class="s">"userRepository"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<ul>
  <li>userRepositoryì™€ userServiceë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•¨</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"application-config.xml"</span><span class="o">);</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">beanDefinitionNames</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBeanDefinitionNames</span><span class="o">();</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">ClassPathXmlApplicationContext</code>ë¡œ í•´ë‹¹ XMLíŒŒì¼ì„ ë¡œë“œí•´ì˜¨ë‹¤.</li>
  <li><code class="highlighter-rouge">getBeanDefinitionNames()</code> : ë“±ë¡ëœ ë¹ˆì´ë¦„ì„ ê°€ì ¸ì˜¨ë‹¤.</li>
</ul>

<h3 id="java-bean-configuration">java bean configuration</h3>

<h4 id="í•™ìŠµ-í…ŒìŠ¤íŠ¸-ì½”ë“œ">í•™ìŠµ í…ŒìŠ¤íŠ¸ ì½”ë“œ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">JavaConfigTest</span> <span class="o">{</span>
    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">javaConfig</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="n">HelloApplication</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">beanDefinitionNames</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBeanDefinitionNames</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">beanDefinitionNames</span><span class="o">));</span>

        <span class="n">AuthService</span> <span class="n">authService</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">AuthService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">assertThat</span><span class="o">(</span><span class="n">authService</span><span class="o">).</span><span class="na">isNotNull</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>HelloApplication í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¹ˆ ë“±ë¡ì„ í•  ê²ƒì´ë‹¤.</li>
</ul>

<h4 id="authenticationprincipalconfig">AuthenticationPrincipalConfig</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Java-based Configurationì„ í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ë¡œ ì§€ì •í•˜ê¸°</span>
<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AuthenticationPrincipalConfig</span> <span class="o">{</span>

    <span class="c1">// AuthService ë¹ˆì„ ë“±ë¡í•˜ê¸°</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">AuthService</span> <span class="nf">authService</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">AuthService</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// AuthenticationPrincipalArgumentResolverë¥¼ ë¹ˆ ë“±ë¡í•˜ê³  authServiceì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ê¸°</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">AuthenticationPrincipalArgumentResolver</span> <span class="nf">authenticationPrincipalArgumentResolver</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">AuthenticationPrincipalArgumentResolver</span><span class="o">(</span><span class="n">authService</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">@Configuration</code> : ë©”íƒ€ ë°ì´í„°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ê°€ ëœë‹¤.</li>
  <li><code class="highlighter-rouge"> @Bean</code> ê³¼ íŠ¹ì • ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¡œ í•´ë‹¹ ê°ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ë¹ˆë“¤ì˜ ì˜ì¡´ì„± ë˜í•œ ì§ì ‘ ë§ºì–´ì¤„ ìˆ˜ ìˆë‹¤.</li>
</ul>

<p><strong>@Configuration í´ë˜ìŠ¤ë„ ë¹ˆ ë“±ë¡ì´ ë˜ë‚˜ìš”?</strong></p>

<p>ğŸ™†â€â™€ï¸</p>

<p><strong>@Configuration í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ìˆœì„œì™€ ë¹ˆ ë“±ë¡ ìˆœì„œëŠ” ìƒê´€ì´ ì—†ë‚˜ìš”?</strong></p>

<p>ğŸ™†â€â™€ï¸</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">useSpringBean</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="n">HelloApplication</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">beanDefinitionNames</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBeanDefinitionNames</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">beanDefinitionNames</span><span class="o">));</span>

    <span class="n">AuthService</span> <span class="n">authService</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">AuthService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span> <span class="c1">// ì‹±ê¸€í†¤ // new AuthService()ì´ë‹ˆê¹Œ</span>
    <span class="n">AuthenticationPrincipalArgumentResolver</span> <span class="n">resolver</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">AuthenticationPrincipalArgumentResolver</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">resolver</span><span class="o">.</span><span class="na">getAuthService</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="n">authService</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>resolverì— ìˆëŠ” AuthService ê°ì²´ì™€ ë¹ˆìœ¼ë¡œ ë“±ë¡ëœ AuthServiceê°€ ê°™ì€ ê°ì²´ì¸ê°€?</strong></p>

<p>ğŸ™†â€â™€ï¸</p>

<hr />

<h2 id="ì™¸ë¶€-íŒŒì¼ì˜-ê°’ì„-ì´ìš©í•˜ê¸°">ì™¸ë¶€ íŒŒì¼ì˜ ê°’ì„ ì´ìš©í•˜ê¸°</h2>

<h3 id="properties-íŒŒì¼-ì ‘ê·¼">properties íŒŒì¼ ì ‘ê·¼</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Java-based Configurationì„ í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ë¡œ ì§€ì •í•˜ê¸°</span>
<span class="c1">// application.properties íŒŒì¼ì„ í™œìš©í•˜ê¸° ìœ„í•œ ì„¤ì • ì¶”ê°€í•˜ê¸°</span>
<span class="nd">@Configuration</span>
<span class="nd">@PropertySource</span><span class="o">(</span><span class="s">"classpath:application.properties"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PropertySourceConfig</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Environment</span> <span class="n">env</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PropertySourceConfig</span><span class="o">(</span><span class="n">Environment</span> <span class="n">env</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">env</span> <span class="o">=</span> <span class="n">env</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// application.propertiesì˜ security-jwt-token-secret-key ê°’ì„ í™œìš©í•˜ì—¬ JwtTokenKeyProviderë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê¸°</span>
    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">JwtTokenKeyProvider</span> <span class="nf">jwtTokenKeyProvider</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">JwtTokenKeyProvider</span><span class="o">(</span><span class="s">"security-jwt-token-secret-key"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Environment ë¼ëŠ” í•„ë“œê°€ ìˆë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">key</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">ApplicationContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="n">PropertySourceConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">beanDefinitionNames</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBeanDefinitionNames</span><span class="o">();</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">beanDefinitionNames</span><span class="o">));</span>

    <span class="n">JwtTokenKeyProvider</span> <span class="n">jwtTokenKeyProvider</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="n">JwtTokenKeyProvider</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">assertThat</span><span class="o">(</span><span class="n">jwtTokenKeyProvider</span><span class="o">.</span><span class="na">getSecretKey</span><span class="o">()).</span><span class="na">isEqualTo</span><span class="o">(</span><span class="s">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIiLCJuYW1lIjoiSm9obiBEb2UiLCJpYXQiOjE1MTYyMzkwMjJ9.ih1aovtQShabQ7l0cINw4k1fagApg3qLWiB8Kt59Lno"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">PropertySourceConfig</code> í´ë˜ìŠ¤ë¡œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤.</li>
  <li>ì‚¬ì‹¤ ì´ propertiesë¥¼ ê°ì²´ë¡œ ë§Œë“¤ì–´ ì ‘ê·¼í•  ìˆ˜ë„ ìˆë‹¤.</li>
</ul>

<h3 id="value-ì£¼ì…">@Value ì£¼ì…</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ í†µí•œ ë¹ˆ ë“±ë¡</span>
<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JwtTokenExpireProvider</span> <span class="o">{</span>
    <span class="c1">// application.propertiesì˜ security-jwt-token-expire-length ê°’ì„ í™œìš©í•˜ì—¬ validityInMillisecondsê°’ ì´ˆê¸°í™” í•˜ê¸°</span>
    <span class="kd">private</span> <span class="kt">long</span> <span class="n">validityInMilliseconds</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">JwtTokenExpireProvider</span><span class="o">(</span><span class="nd">@Value</span><span class="o">(</span><span class="s">"${security-jwt-token-expire-length}"</span><span class="o">)</span> <span class="kt">long</span> <span class="n">validityInMilliseconds</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">validityInMilliseconds</span> <span class="o">=</span> <span class="n">validityInMilliseconds</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getValidityInMilliseconds</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">validityInMilliseconds</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Java-based Configurationì„ í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤ë¡œ ì§€ì •í•˜ê¸°</span>
<span class="c1">// application.properties íŒŒì¼ì„ í™œìš©í•˜ê¸° ìœ„í•œ ì„¤ì • ì¶”ê°€í•˜ê¸°</span>
<span class="c1">// nextstep.helloworld.core.environment ë‚´ì— ìˆëŠ” ìŠ¤í”„ë§ ë¹ˆì„ ìŠ¤ìº”í•˜ê¸°</span>
<span class="nd">@Configuration</span>
<span class="nd">@PropertySource</span><span class="o">(</span><span class="s">"classpath:application.properties"</span><span class="o">)</span>
<span class="nd">@ComponentScan</span><span class="o">(</span><span class="s">"nextstep.helloworld.core.environment"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ValueConfig</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>í™˜ê²½ì— ë”°ë¼ properties ì„¤ì •ì´ ê°€ëŠ¥í•œê°€ìš”?</strong></p>

<p>ğŸ™†â€â™€ï¸ í™˜ê²½ì— ë§ê²Œ deployí•˜ê¸° - profile</p>

<hr />

<h2 id="ìŠ¤í”„ë§-ì»¨í…Œì´ë„ˆ-ì„¤ì •-ë°©ë²•-íˆìŠ¤í† ë¦¬">ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ì„¤ì • ë°©ë²• íˆìŠ¤í† ë¦¬</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/55f6f1f7-1e78-4099-814c-d884510efb89/image.png" style="zoom:67%;" /></p>

<p>ì»¨í…Œì´ë„ˆ ì„¤ì •ì„ í•  ë•ŒëŠ” ë©”íƒ€ì •ë³´ë¥¼ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.</p>

<p>ë§¨ ì²˜ìŒì—ëŠ” <strong>XMLê¸°ë°˜</strong>ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆë‹¤.<br />
ì´ëŸ¬ë©´ í”„ë¡œë•ì…˜ ì½”ë“œì™€ ì˜ì¡´ ê´€ê³„, ë¹ˆ ë“±ë¡ ì •ë³´ë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.</p>

<p>ì´í›„ <strong>ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜</strong>ì´ ë“±ì¥í•˜ë©´ì„œ XMLê³¼ í˜¼ìš©í•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.<br />
ë“±ë¡í•  ë¹ˆë“¤ì„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ê´€ë¦¬í•˜ì˜€ë‹¤.</p>

<p>Spring 3.0ë¶€í„°ëŠ” <strong>Java Bean ê¸°ë°˜</strong>ìœ¼ë¡œ ì´ë£¨ì–´ì¡Œë‹¤.<br />
XMLë¡œ ê´€ë¦¬í•˜ë˜ ë‚´ìš©ë“¤ì„ Bean ë“±ë¡ì„ í†µí•´ ê´€ë¦¬í•˜ì˜€ë‹¤.</p>

<hr />

<h3 id="auto-configuration">Auto Configuration?</h3>

<ul>
  <li><strong>jar dependency ê¸°ë°˜</strong>ìœ¼ë¡œ ìŠ¤í”„ë§ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìë™ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.</li>
</ul>

<p>ë³„ë‹¤ë¥¸ ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ëŠ”ë°ë„, DB ë“±ì— ê´€ë ¨í•œ ê²ƒë“¤ì„ ë§ˆìŒ ê» ì“¸ ìˆ˜ ìˆì—ˆë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/01ebb7bc-6306-49f3-9b00-5f4e9e62682e/image.png" style="zoom:67%;" /></p>

<p>ê·¸ ì´ìœ ëŠ” <code class="highlighter-rouge">@SpringBootApplication</code> ì— ìˆëŠ” <code class="highlighter-rouge">@EnableAutoConfiguration</code> ë•ë¶„ì´ë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/b2b3a167-8bab-45e0-ae77-20ac1ee0521e/image.png" style="zoom:33%;" /></p>

<p>ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•˜ë©´ ì´ì •ë„ì˜ AutoConfigurationë“¤ì´ ë“±ë¡ëœë‹¤.</p>

<p>ex) jdbcTemplateì„ ìƒì„±í•´ì£¼ì§€ ì•Šì•˜ëŠ”ë°ë„ ìë™ìœ¼ë¡œ ì£¼ì…ëœë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/a4b8b58e-311e-4c72-8f15-8f3c3287666d/image.png" style="zoom:50%;" /></p>

<p><strong>ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì§€ ì•Šì€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë– ì•¼í•˜ëŠ”ë° ë‚˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ”?</strong></p>

<p><code class="highlighter-rouge">@ConditionalOnClass</code> ë•ë¶„ì´ë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/a24ebfbc-d8dd-4cca-9e92-07163b4e6e85/image.png" style="zoom:50%;" /></p>

<ul>
  <li>DataSource, JdbcTemplateì´ ë¡œë“œê°€ ë˜ë©´ ë™ì‘í•œë‹¤.</li>
</ul>

<h4 id="h2consoleautoconfiguration">H2ConsoleAutoConfiguration</h4>

<p>h2 DBì„¤ì •ì„ í•´ì£¼ì§€ ì•Šì•˜ëŠ”ë°ë„ h2ì™€ ê´€ë ¨ëœ ì„¤ì •ì´ ìë™ìœ¼ë¡œ ëœë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/95850513-5786-4b7a-b2e0-efc5d5680cf2/image.png" style="zoom:67%;" /></p>

<p>ì´ê²ƒë„ ì´ë¯¸ ë“±ë¡ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤.</p>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Kotlinì„ ì •ë³µí•´ë´…ì‹œë‹¤ 1</title>
	  <link>//kotlin1</link>
	  <author></author>
	  <pubDate>2021-05-16T19:18:00+09:00</pubDate>
	  <guid>//kotlin1</guid>
	  <description><![CDATA[
	     <h2 id="ì½”í‹€ë¦°ì´ë€">ì½”í‹€ë¦°ì´ë€?</h2>

<ul>
  <li>ìë°” í”Œë«í¼ì—ì„œ ëŒì•„ê°€ëŠ” ìƒˆë¡œìš´ í”„ë¡œê·¸ë˜ë° ì–¸ì–´</li>
  <li>ê°„ê²°í•˜ê³  ì‹¤ìš©ì </li>
  <li>ìë°” ì½”ë“œì™€ì˜ ìƒí˜¸ ìš´ìš©ì„±ì„ ì¤‘ì‹œ</li>
  <li>ì½”í‹€ë¦° ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ ë°”ì´íŠ¸ì½”ë“œëŠ” ì¼ë°˜ì ì¸ ìë°” ì½”ë“œì™€ ë˜‘ê°™ì´ íš¨ìœ¨ì ìœ¼ë¡œ ì‹¤í–‰</li>
</ul>

<h3 id="ì •ì -íƒ€ì…-ì§€ì •-ì–¸ì–´">ì •ì  íƒ€ì… ì§€ì • ì–¸ì–´</h3>

<p>ì •ì  íƒ€ì… ì§€ì •ì´ë€ ëª¨ë“  í”„ë¡œê·¸ë¨ êµ¬ì„± ìš”ì†Œì˜ íƒ€ì…ì„ ì»´íŒŒì¼ ì‹œì ì— ì•Œ ìˆ˜ ìˆë‹¤.<br />
í”„ë¡œê·¸ë¨ ì•ˆì—ì„œ ê°ì²´ì˜ í•„ë“œë‚˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œë§ˆë‹¤ ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ ê²€ì¦í•´ì¤€ë‹¤.</p>

<p>ì½”í‹€ë¦°ì€ íƒ€ì…ì¶”ë¡ ì„ ì§€ì›í•˜ì—¬ ê°œë°œìê°€ íƒ€ì… ì„ ì–¸í•´ì•¼í•˜ëŠ” ë¶ˆí¸í•¨ì´ ì¤„ì–´ë“ ë‹¤.<br />
ë§¤ê°œ ë³€ìˆ˜ ì´ë¦„ ë’¤ì— ë§¤ê°œ ë³€ìˆ˜ì˜ ìë£Œí˜•ì„ ì“´ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="n">val</span> <span class="n">PATTERN</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"//(.)\n(.*)"</span><span class="o">)</span>
<span class="kd">private</span> <span class="kd">const</span> <span class="n">val</span> <span class="n">FIRST_TARGET_STRING</span> <span class="o">=</span> <span class="s">"//"</span>
<span class="kd">private</span> <span class="kd">const</span> <span class="n">val</span> <span class="n">LAST_TARGET_STRING</span> <span class="o">=</span> <span class="s">"\n"</span>
</code></pre></div></div>

<h3 id="ë³€ìˆ˜-ì„ ì–¸">ë³€ìˆ˜ ì„ ì–¸</h3>

<ul>
  <li>val : ê°’ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë³€ìˆ˜</li>
  <li>var : ê°’ì´ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ë³€ìˆ˜</li>
</ul>

<h4 id="ë¸”ë¡ì´-ë³¸ë¬¸ì¸-í•¨ìˆ˜">ë¸”ë¡ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">max</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="p">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="n">a</span> <span class="k">else</span> <span class="n">b</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="ì‹ì´-ë³¸ë¬¸ì¸-í•¨ìˆ˜">ì‹ì´ ë³¸ë¬¸ì¸ í•¨ìˆ˜</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">max</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="p">&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="n">a</span> <span class="k">else</span> <span class="n">b</span>
</code></pre></div></div>

<hr />

<h2 id="ì½”í‹€ë¦°-í•™ìŠµ-í…ŒìŠ¤íŠ¸">ì½”í‹€ë¦° í•™ìŠµ í…ŒìŠ¤íŠ¸</h2>

<h3 id="named-arguments">named arguments</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Crew</span><span class="p">(</span><span class="s">"ì‹ ì§€í˜œ"</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="s">"ì•„ë§ˆì°Œ"</span><span class="p">)</span>
</code></pre></div></div>

<p>Crew ê°ì²´ì— nameê³¼ nickname í•„ë“œê°€ ìˆì„ ë•Œ ìƒì„±ìì— ì „ë‹¬í•˜ëŠ” ì¸ìë§Œì„ ë³´ê³ ëŠ” ì–´ë–¤ ë¬¸ìì—´ì´ ì–´ë–¤ ì—­í• ì¸ì§€ í—·ê°ˆë¦´ ìˆ˜ ìˆë‹¤.<br />
ì´ëŠ” í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚´í´ë³´ì§€ ì•Šê³ ëŠ” ì•Œì•„ë‚´ê¸° ì–´ë ¤ìš´ë°,<br />
ì½”í‹€ë¦°ìœ¼ë¡œ ì‘ì„±í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•ŒëŠ” ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ì „ë‹¬í•˜ëŠ” ì¸ìì˜ ì´ë¦„ì„ ëª…ì‹œí•´ì¤„ ìˆ˜ ìˆë‹¤.  <br />
ì´ë•Œ ì¸ì ì¤‘ ì–´ëŠ í•˜ë‚˜ë¼ë„ ì´ë¦„ì„ ëª…ì‹œí•˜ë©´ ê·¸ ë’¤ë¡œ ì˜¤ëŠ” ëª¨ë“  ì¸ìëŠ” ì´ë¦„ì„ ëª…ì‹œí•´ì•¼ í•œë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Person</span><span class="p">(</span><span class="s">"ì‹ ì§€í˜œ"</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="n">nickname</span> <span class="p">=</span> <span class="s">"ì•„ë§ˆì°Œ"</span><span class="p">),</span>
<span class="n">Person</span><span class="p">(</span><span class="n">name</span> <span class="p">=</span> <span class="s">"ì‹ ì§€í˜œ"</span><span class="p">,</span> <span class="n">nickname</span> <span class="p">=</span> <span class="s">"ì•„ë§ˆì°Œ"</span><span class="p">,</span> <span class="n">age</span> <span class="p">=</span> <span class="m">20</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="nullable-types">nullable types</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Person</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span><span class="p">?,</span> <span class="kd">var</span> <span class="py">nickname</span><span class="p">:</span> <span class="n">String</span><span class="p">?)</span>
</code></pre></div></div>

<p>nullì´ ë ìˆ˜ ìˆëŠ” typeì„ ëª…ì‹œì ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆë‹¤. <br />
typeì— ?ë¥¼ ë¶™ì„ìœ¼ë¡œì„œ nullì´ ê°€ëŠ¥í•œ ë³€ìˆ˜ì„ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•œë‹¤.</p>

<h3 id="default-arguments">default arguments</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Person</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span> <span class="kd">var</span> <span class="py">nickname</span><span class="p">:</span> <span class="n">String</span><span class="p">?</span> <span class="p">=</span><span class="k">null</span><span class="p">)</span>
</code></pre></div></div>

<p>ìë°”ëŠ”ì˜¤ë²„ë¡œë”©ì„ í•˜ì—¬ ì¸ìê°€ ë‹¤ë¥¸ ê°™ì€ ë©”ì„œë“œë¥¼ ë§Œë“ ë‹¤.</p>

<p>í•˜ì§€ë§Œ ì½”í‹€ë¦°ì€ ê¸°ë³¸ ì¸ìë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì—, 1ê°œì˜ ë©”ì†Œë“œë§Œ ì •ì˜í•˜ì—¬ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”© ê¸°ëŠ¥ì„ í•œë‹¤. 
ê¸°ë³¸ ì¸ìë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€, ë‹¤ìŒê³¼ ê°™ì´ ì¸ì ì´ë¦„ ë‹¤ìŒì— <code class="highlighter-rouge">ì¸ì = ê¸°ë³¸ê°’</code>ì²˜ëŸ¼ ì •ì˜í•˜ë©´ ëœë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">add</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span><span class="p">)</span>
</code></pre></div></div>

<p>ìœ„ì˜ ë©”ì†Œë“œëŠ” ì•„ë˜ì²˜ëŸ¼ ì¸ìì˜ ê°œìˆ˜ê°€ ë‹¤ë¥´ê²Œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">add</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>      <span class="c1">// num2 = 0 ì€ ê¸°ë³¸ì¸ìë¡œ ì „ë‹¬
</span><span class="n">add</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="data-classe">data classe</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">data class</span> <span class="nc">Person</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span><span class="p">,</span> <span class="kd">var</span> <span class="py">nickname</span><span class="p">:</span> <span class="n">String</span><span class="p">?</span> <span class="p">=</span><span class="k">null</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>ìˆ˜ë¦¬ í”¼ì…œ ë°ì´í„° í´ë˜ìŠ¤ëŠ” DTOë‹¤.</li>
  <li>ë”±íˆ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°–ê³  ìˆì§€ì•Šë‹¤.</li>
  <li>ìƒì„±ìë¶€í„° getter &amp; setter, ì‹¬ì§€ì–´ canonical methodsê¹Œì§€ ì•Œì•„ì„œ ìƒì„±í•´ì¤€ë‹¤.</li>
</ul>

<h4 id="ì œí•œ-ì‚¬í•­">ì œí•œ ì‚¬í•­</h4>

<ul>
  <li>ê¸°ë³¸ ìƒì„±ìì—ëŠ” ìµœì†Œ í•˜ë‚˜ì˜ íŒŒë¼ë¯¸í„°ê°€ ìˆì–´ì•¼ í•œë‹¤.</li>
  <li>ê¸°ë³¸ ìƒì„±ìì˜ íŒŒë¼ë¯¸í„°ëŠ” valì´ë‚˜ varì—¬ì•¼ë§Œ í•œë‹¤.</li>
  <li>ë°ì´í„° í´ë˜ìŠ¤ëŠ” abstract, open, sealed, innerê°€ ë˜ë©´ ì•ˆ ëœë‹¤.</li>
</ul>

<h4 id="-canonical-methods">ğŸ¤” Canonical Methods?</h4>

<p>ìºë…¸ë‹ˆì»¬ ë©”ì†Œë“œëŠ” Anyì— ì„ ì–¸ëœ ë©”ì†Œë“œ (AnyëŠ” ìë°”ì˜ Objectì²˜ëŸ¼ ì½”í‹€ë¦°ì—ì„œ ëª¨ë“  ê°ì²´ì˜ ì¡°ìƒì´ ë˜ëŠ” ê°ì²´)<br />
ë”°ë¼ì„œ ì½”í‹€ë¦°ì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ ê°–ê³  ìˆëŠ” ë©”ì†Œë“œë¥¼ ëœ»í•œë‹¤.</p>

<p>ì½”í‹€ë¦°ì˜ data classëŠ” ëª¨ë“  Canonical ë©”ì„œë“œë¥¼ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„í•˜ê³  ìˆë‹¤.</p>

<ul>
  <li><strong>equlas(other: Any?): Boolean</strong> - ì´ ë©”ì†Œë“œëŠ” ì°¸ì¡°ê°€ ì•„ë‹ˆë¼ ë°ì´í„° í´ë˜ìŠ¤ ê°„ ê°’ì˜ ì¼ì¹˜ë¥¼ ë¹„êµí•œë‹¤.</li>
  <li><strong>hashCode(): Int</strong> - í•´ì‰¬ì½”ë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ì˜ ìˆ«ì í‘œí˜„ì´ë‹¤. hashCode()ê°€ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë  ë•Œ í•­ìƒ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤. equals()ë¡œ ë¹„êµí•  ë•Œ ì°¸ì„ ë°˜í™˜í•˜ëŠ” ë‘ ì¸ìŠ¤í„´ìŠ¤ëŠ” ê°™ì€ hashCode()ë¥¼ ê°€ì ¸ì•¼ë§Œ í•œë‹¤.</li>
  <li><strong>toString(): String</strong> - ì¸ìŠ¤í„´ìŠ¤ì˜ ë¬¸ìì—´ í‘œí˜„ì´ë‹¤. ë°ì´í„° í´ë˜ìŠ¤ëŠ” ì´ë¥¼ ë©¤ë²„ ë³€ìˆ˜ì˜ ê°’ì„ ë‚˜ì—´í•˜ë„ë¡ ìë™ìœ¼ë¡œ ì¬ì •ì˜ í•œë‹¤.</li>
  <li><strong>copy()</strong> : ê°ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆ ê°ì²´ ìƒì„±</li>
  <li><strong>componentsN()</strong> : ì†ì„±ì„ ìˆœì„œëŒ€ë¡œ ë°˜í™˜</li>
</ul>

<hr />

<h2 id="2ë‹¨ê³„-ë¬¸ìì—´-ê³„ì‚°ê¸°-êµ¬í˜„í•˜ë©´ì„œ-ë°°ìš´-ì‚¬ì‹¤ë“¤">2ë‹¨ê³„ ë¬¸ìì—´ ê³„ì‚°ê¸° êµ¬í˜„í•˜ë©´ì„œ ë°°ìš´ ì‚¬ì‹¤ë“¤</h2>

<h3 id="ë©”ì„œë“œ-ì •ì˜">ë©”ì„œë“œ ì •ì˜</h3>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="err">ë©”ì„œë“œëª…(</span><span class="nf">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="err">ë°˜í™˜íƒ€ì…</span> <span class="p">{</span>
    <span class="n">retunr</span> <span class="m">2</span> <span class="p">*</span> <span class="n">x</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="unit--nothing">Unit / Nothing</h3>

<p>ì½”í‹€ë¦°ì€ ì›ì‹œíƒ€ì…ê³¼ wrapper typeì„ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<h4 id="unit">Unit</h4>

<p>í•¨ìˆ˜ì˜ ë°˜í™˜ êµ¬ë¬¸ì´ ì—†ë‹¤ëŠ” ê²ƒì„ í‘œí˜„í•œë‹¤. (ìë°”ì˜ voidì— í•´ë‹¹).<br />
voidì™€ëŠ” ë‹¤ë¥´ê²Œ ì¸ìë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<h4 id="nothing">Nothing</h4>

<p>í•¨ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ëë‚˜ì§€ ì•ŠëŠ”ë‹¤ë¼ëŠ”ê±¸ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•œë‹¤.</p>

<h4 id="firstornull">firstOrNull</h4>

<p>ì»¬ë ‰ì…˜ ë‚´ ì²« ë²ˆì§¸ ì¸ìë¥¼ ë°˜í™˜í•œë‹¤. ë‹¨ìˆœíˆ ë¦¬ìŠ¤íŠ¸ ë‚´ì—ì„œ ì²« ë²ˆì§¸ì— ìœ„ì¹˜í•˜ëŠ” ì¸ìë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒë¿ ì•„ë‹ˆë¼, íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ì²« ë²ˆì§¸ ì¸ìë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬ì„±í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">operator</span> <span class="p">=</span> <span class="n">values</span><span class="p">().</span><span class="n">firstOrNull</span> <span class="p">{</span> <span class="n">item</span> <span class="p">-&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">op</span> <span class="p">==</span> <span class="n">op</span> <span class="p">}</span>
    <span class="o">?:</span> <span class="k">throw</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">"ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì—°ì‚°ìì…ë‹ˆë‹¤."</span><span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="ìë™ì°¨-ê²½ì£¼-í”¼ë“œë°±">ìë™ì°¨ ê²½ì£¼ í”¼ë“œë°±</h2>

<h3 id="ì½”í‹€ë¦°ì˜-ì½”ë”©-ì»¨ë²¤ì…˜">ì½”í‹€ë¦°ì˜ ì½”ë”© ì»¨ë²¤ì…˜</h3>

<h4 id="í´ë˜ìŠ¤">í´ë˜ìŠ¤</h4>

<ul>
  <li>í”„ë¡œí¼í‹°</li>
  <li>ì´ˆê¸°í™” ë¸”ë¡</li>
  <li>ë¶€ ìƒì„±ì</li>
  <li>í•¨ìˆ˜</li>
  <li>ë™ë°˜ ê°ì²´</li>
</ul>

<p>ìˆœìœ¼ë¡œ ì‘ì„±í•œë‹¤.</p>

<h4 id="-ktlint-ì ìš©í•˜ê¸°">â• ktlint ì ìš©í•˜ê¸°</h4>

<p><strong>ktlint</strong>ë€ ì½”í‹€ë¦°ì„ ìœ„í•œ ì •ì  ë¶„ì„ ë„êµ¬ë¡œ, ì½”í‹€ë¦°ìœ¼ë¡œ ì‘ì„±í•œ ì½”ë“œì˜ ìŠ¤íƒ€ì¼ ê²€ì‚¬ì™€, í˜•ì‹ì— ë§ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ìˆ˜ì •í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>

<p>ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p>

<div class="language-gradle highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.jetbrains.kotlin.jvm'</span> <span class="n">version</span> <span class="s1">'1.3.72'</span>
    <span class="n">id</span> <span class="s1">'org.jmailen.kotlinter'</span> <span class="n">version</span> <span class="s2">"3.2.0"</span> <span class="c1">// ì¶”ê°€</span>
<span class="o">}</span>
</code></pre></div></div>

<p><img src="https://images.velog.io/images/new_wisdom/post/709c90c9-2cac-4eb0-8a48-a20ec4156ed6/image.png" style="zoom:33%;" /></p>

<p>í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•˜ë©´ gradle-Tasks-formatingì´ ìƒì„±ë˜ëŠ”ë° lintKotlinì„ ëˆŒëŸ¬ì£¼ë©´ lintë¡œ ì½”í‹€ë¦° ì»¨ë²¤ì…˜ì´ í‹€ë¦° ë¶€ë¶„ì„ ì¡ì•„ì¤€ë‹¤.</p>

<h3 id="ì£¼ìƒì„±ì-ë¶€-ìƒì„±ì">ì£¼ìƒì„±ì, ë¶€ ìƒì„±ì</h3>

<h4 id="ì£¼-ìƒì„±ì">ì£¼ ìƒì„±ì</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Car</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">position</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span><span class="p">)</span>
</code></pre></div></div>

<p>í´ë˜ìŠ¤ ì´ë¦„ ë’¤ì— ì˜¤ëŠ” ìƒì„±ìê°€ ë°”ë¡œ ì£¼ ìƒì„±ìì´ë‹¤.<br />
ì£¼ ìƒì„±ìëŠ” ìƒì„±ì íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•˜ê³ , ì´ì— ì˜í•´ ì´ˆê¸°í™”ë˜ëŠ” í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.<br />
ë˜í•œ ì£¼ ìƒì„±ìëŠ” ê°ì²´ ì´ˆê¸°í™”ë¥¼ ì‹œì‘í•˜ëŠ” ìœ ì¼í•œ ê³³ì´ê¸° ë•Œë¬¸ì— ì œê³µë˜ëŠ” ì¸ìë“¤ì´ ì™„ì „í•´ì•¼ í•œë‹¤.</p>

<p>ì£¼ ìƒì„±ìì—ëŠ” ë³„ë„ì˜ ì½”ë“œë¥¼ í¬í•¨ì‹œí‚¬ ìˆ˜ ì—†ë‹¤.<br />
ì´ë•Œ ì½”í‹€ë¦°ì€ <code class="highlighter-rouge">init</code> í‚¤ì›Œë“œë¡œ ì´ˆê¸°í™” ë¸”ë¡ì„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Car</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">position</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>

    <span class="n">init</span> <span class="p">{</span>
        <span class="n">require</span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="n">length</span> <span class="p">&lt;=</span> <span class="n">MAX_NAME_LENGTH</span><span class="p">)</span> <span class="p">{</span>
            <span class="s">"ìë™ì°¨ì˜ ì´ë¦„ì€ 5ê¸€ìë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."</span>
        <span class="p">}</span>
    <span class="c1">// ...
</span></code></pre></div></div>

<h4 id="ë¶€-ìƒì„±ì">ë¶€ ìƒì„±ì</h4>

<p>íŒŒë¼ë¯¸í„° ëª©ë¡ì´ ë‹¤ë¥¸ ì—¬ëŸ¬ ìƒì„±ìë¥¼ ë§Œë“¤ ê²½ìš° ë¶€ ìƒì„±ìë¥¼ ë‘˜ ìˆ˜ ìˆë‹¤.<br />
ë¶€ ìƒì„±ìì—ì„œëŠ” <code class="highlighter-rouge">this</code> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì£¼ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ë„ë¡ í•œë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Car</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">var</span> <span class="py">position</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">constructor</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>í•˜ì§€ë§Œ ì´ ê²½ìš°ë³´ë‹¤ëŠ” <strong><code class="highlighter-rouge">default</code>í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤ê°œë³€ìˆ˜ì˜ ê¸°ë³¸ê°’ì„ ì‚¬ìš©</strong>í•˜ì.</p>

<p><strong>ì£¼ ìƒì„±ì í˜¸ì¶œ ì‹œì </strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">constructor</span><span class="p">(</span><span class="n">carNUm</span> <span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">(</span><span class="n">ArryaList</span><span class="p">())</span> <span class="p">{</span>
	<span class="n">createList</span><span class="p">(</span><span class="n">carName</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ìœ„ì™€ ê°™ì´ ë¶€ ìƒì„±ìì—ì„œ ì£¼ ìƒì„±ìë¥¼ í˜¸ì¶œí•  ë•Œ <code class="highlighter-rouge">createList()</code>ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="n">Cars</span><span class="p">(</span><span class="n">int</span> <span class="n">carNUm</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">(</span><span class="n">new</span> <span class="n">ArrayList</span><span class="p">())</span>
  <span class="k">this</span><span class="p">.</span><span class="n">createList</span><span class="p">(</span><span class="n">carNum</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="require-check---ì¡°ê±´-í™•ì¸-í•¨ìˆ˜">require(), check() - ì¡°ê±´ í™•ì¸ í•¨ìˆ˜</h3>

<ul>
  <li>
    <p><strong>require()</strong> : ì‹ì´ ì°¸ì´ ì•„ë‹ ê²½ìš° <code class="highlighter-rouge">IllegalArgumentException</code> ë°œìƒ</p>
  </li>
  <li>
    <p><strong>check()</strong> : ì‹ì´ ì°¸ì´ ì•„ë‹ ê²½ìš° <code class="highlighter-rouge">IllegalStateException</code> ë°œìƒ</p>

    <p>ìœ„ ì˜ˆì œì²˜ëŸ¼ <code class="highlighter-rouge">{}</code> ë¸”ë¡ì— ì˜ˆì™¸ ë©”ì‹œì§€ë¥¼ ì‘ì„±í•  ìˆ˜ë„ ìˆë‹¤.</p>
  </li>
</ul>

<h3 id="setterë§Œ-privateìœ¼ë¡œ---ê°€ì‹œì„±-ë³€ê²½ì">setterë§Œ privateìœ¼ë¡œ - ê°€ì‹œì„± ë³€ê²½ì</h3>

<p>ìë°”ë¥¼ ìƒê°í•˜ë©´ í•„ë“œë¥¼ <code class="highlighter-rouge">private</code> ë¡œ ë§Œë“¤ê³ ,  getterë¥¼ í†µí•´ ê°’ì„ êº¼ë‚´ë„ë¡ í•˜ì˜€ì§€ë§Œ,<br />
ì½”í‹€ë¦°ì—ì„œëŠ” í•„ë“œë¥¼ privateìœ¼ë¡œ ë‘ê¸°ë³´ë‹¤ëŠ” setter í•¨ìˆ˜ë§Œ privateìœ¼ë¡œ ì§€ì •í•œë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Car</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="py">position</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">0</span>
        <span class="k">private</span> <span class="k">set</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ìë°”ëŠ” í•„ë“œ ê¸°ë°˜  ì–¸ì–´ì¸ë° ì½”í‹€ë¦°ì€ í”„ë¡œí¼í‹° ê¸°ë°˜ ì–¸ì–´ì´ë‹¤.<br />
íŒì„ ì¤€ë‹¤ë©´ ì½”í‹€ë¦°ì—ì„œ í”„ë¡œí¼í‹°ì— ë¬´ì–¸ê°€ ì—°ì‚°ì´ ë“¤ì–´ê°„ë‹¤ë©´ í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³ ,<br />
ê°’ ìì²´ë§Œ ë°˜í™˜í•œë‹¤ë©´ ìœ„ì™€ ê°™ì´ ì“°ì.</p>

<h3 id="ìƒìˆ˜">ìƒìˆ˜</h3>

<p>ê¸°ë³¸ ìë£Œí˜•ì˜ ìƒìˆ˜ëŠ” <code class="highlighter-rouge">const val</code> í‚¤ì›Œë“œë¡œ í‘œí˜„í•œë‹¤.<br />
ê¸°ë³¸ ìë£Œí˜• ì™¸ì—ëŠ” <code class="highlighter-rouge">const</code> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p>

<p>ìƒìˆ˜ëŠ” í´ë˜ìŠ¤ ì™¸ë¶€ì—ë‹¤ê°€ë„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤.<br />
í•˜ì§€ë§Œ ì´ ê²½ìš° í™•ì¥ìê°€ íŒŒì¼ë¡œ ë³€ê²½ë˜ë‹ˆ ì‚¬ëŒ ì·¨í–¥ê» í•˜ë©´ ëœë‹¤.</p>

<h4 id="companion-object---ë™ë°˜-ê°ì²´">companion object - ë™ë°˜ ê°ì²´</h4>

<p>ì½”í‹€ë¦°ì—ì„œëŠ” <code class="highlighter-rouge">static</code> í‚¤ì›Œë“œê°€ ì—†ëŠ”ë°, ì´ ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ companion object ì´ë‹¤.<br />
ì´ëŠ” ê°ì²´ì´ë©°, <code class="highlighter-rouge">companion object</code> ë‚´ì— ì„ ì–¸ëœ ì†ì„±ê³¼ í•¨ìˆ˜ëŠ” <code class="highlighter-rouge">{í´ë˜ìŠ¤ ì´ë¦„}.{í•„ë“œ/í•¨ìˆ˜ ì´ë¦„}</code> í˜•íƒœë¡œ ë°”ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.  <br />
í´ë˜ìŠ¤ì˜ ë§¨ í•˜ë‹¨ì— ì‘ì„±í•œë‹¤.</p>

<h4 id="jvmstatic">@JvmStatic</h4>

<p><code class="highlighter-rouge">ompanion object</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì„±í•œ ì½”ë“œë¥¼ ìë°”ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ì†ì„± ë° í•¨ìˆ˜ê°€ ìë°”ì˜ í•„ë“œ/ë©”ì„œë“œë¡œ í•´ì„ë˜ë„ë¡ ì•Œë ¤ì£¼ì–´ì•¼ í•œë‹¤.</p>

<p><code class="highlighter-rouge">const</code> ì„ ì–¸ì´ ë˜ì–´ ìˆëŠ” í”„ë¡œí¼í‹°ëŠ” ë³„ë„ì˜ ì²˜ë¦¬ ì—†ì´ ìë°”ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, 
í•¨ìˆ˜ëŠ” <code class="highlighter-rouge">@JvmStatic</code> ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ìë°”ì—ì„œ ì •ì  ë©”ì„œë“œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•œë‹¤.</p>

<h4 id="jvmfield">@JvmField</h4>

<p><code class="highlighter-rouge">const</code> í‚¤ì›Œë“œëŠ” ê¸°ë³¸ ìë£Œí˜•ì—ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.<br />
ì´ì™¸ì˜ íƒ€ì… ê°ì²´ë¥¼ ìë°”ì—ì„œ ì •ì  í•„ë“œì²˜ëŸ¼ ì‚¬ìš©í•˜ë ¤ë©´ <code class="highlighter-rouge">@JvmField</code> ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>

<h3 id="utility-í´ë˜ìŠ¤">Utility í´ë˜ìŠ¤</h3>

<p>ìë°”ì—ì„œëŠ” ëª¨ë“  ë©”ì„œë“œë¥¼ í´ë˜ìŠ¤ ë‚´ë¶€ì— ì‘ì„±í•´ì•¼í–ˆì§€ë§Œ, ì½”í‹€ë¦°ì—ì„œëŠ” ê·¸ëŸ´ í•„ìš”ê°€ ì—†ë‹¤.<br />
í•„ìš”í•œ ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë§Œ ëª¨ì•„ë†“ì€ íŒŒì¼ë§Œì„ ë§Œë“¤ê³  ì´ë¥¼ íŒŒì¼ ìµœìƒìœ„ì— ìœ„ì¹˜ì‹œí‚¤ë©´ ëœë‹¤.</p>

<h3 id="ìŠ¤ë§ˆíŠ¸-ìºìŠ¤íŠ¸">ìŠ¤ë§ˆíŠ¸ ìºìŠ¤íŠ¸</h3>

<p>ì½”í‹€ë¦°ì—ì„œëŠ” ì»´íŒŒì¼ëŸ¬ê°€ ëŒ€ì‹  ìºìŠ¤íŒ…ì„ í•´ì¤€ë‹¤.<br />
ì›í•˜ëŠ” íƒ€ì…ì„ ê²€ì‚¬í•˜ê³  ë‚˜ë©´, ê°œë°œìê°€ ë³€ìˆ˜ë¥¼ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ìºìŠ¤íŒ…í•˜ì§€ ì•Šì•„ë„ í•´ë‹¹ ë³€ìˆ˜ê°€ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br />
ì´ëŠ” ì»´íŒŒì¼ëŸ¬ê°€ ìºìŠ¤íŒ…ì„ ìˆ˜í–‰í•´ì£¼ì–´ ê°€ëŠ¥í•œ ì¼ì´ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">calculate</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="n">String</span><span class="p">?):</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">isNullOrBlank</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="n">IllegalArgumentException</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="kd">val</span> <span class="py">tokens</span> <span class="p">=</span> <span class="n">text</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
    <span class="c1">// ...
</span><span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="ì½”ë“œ-ë¦¬ë·°-ì¤‘-ì§¤ë§‰í•œ-ë°°ì›€">ì½”ë“œ ë¦¬ë·° ì¤‘ ì§¤ë§‰í•œ ë°°ì›€</h2>

<h4 id="maxby">maxBy{}</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">findMaxPosition</span><span class="p">():</span> <span class="n">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">cars</span><span class="p">.</span><span class="n">maxBy</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">position</span> <span class="p">}</span><span class="o">!!</span><span class="p">.</span><span class="n">position</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>ê°€ì¥ í° ì›ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ ë¹„êµì— ì‚¬ìš©í•  ê°’ì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤. <br />
ëª¨ë“  ì»¬ë ‰ì…˜ì— ëŒ€í•´ maxBy í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</p>

<p><code class="highlighter-rouge">{ it.position }</code> ëŠ” ë¹„êµì— ì‚¬ìš©í•  ê°’ì„ ëŒë ¤ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.<br />
<code class="highlighter-rouge">maxBy{}</code> ì˜ ë°˜í™˜ ê°’ì€ nullableì¸ë°, ë°˜í™˜ëœ ê°’ì˜ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš° <code class="highlighter-rouge">!!</code> í‚¤ì›Œë“œë¥¼ í†µí•´ nullì´ ì•„ë‹˜ì„ ì„ ì–¸í•˜ì—¬ êº¼ë‚¸ë‹¤.</p>

<p><strong>ì°¸ê³ </strong></p>

<p><code class="highlighter-rouge">?:</code>(ì—˜ë¹„ìŠ¤ ì˜¤í¼ë ˆì´í„° ) : nullì¸ ê²½ìš° ì„¤ì •í•œ default ê°’ì„ ë„£ëŠ”ë‹¤.</p>

<h4 id="pair">Pair</h4>

<p>Kotlinì—ì„œ ì œê³µí•˜ëŠ” ê°ì²´ íƒ€ì… ì¤‘ ì—°ê´€ íƒ€ì…ë¼ë¦¬ ê´€ê³„ê°€ ì—†ì–´ë„ 2ê°œë¥¼ ìŒìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ê°ì²´</p>

<p><strong>getter</strong>ëŠ” <strong>.first  .second</strong> ë˜ëŠ” <strong>.component1() / .component2()</strong>ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</p>

<p><strong>RacingCar ì¼ë¶€</strong></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">race</span><span class="p">(</span><span class="n">moveStrategy</span><span class="p">:</span> <span class="n">MoveStrategy</span><span class="p">):</span> <span class="n">Pair</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Cars</span><span class="p">&gt;,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Car</span><span class="p">&gt;&gt;</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">carsGroup</span> <span class="p">=</span> <span class="n">arrayListOf</span><span class="p">&lt;</span><span class="n">Cars</span><span class="p">&gt;()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">0</span> <span class="n">until</span> <span class="n">tryNumber</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">cars</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">cars</span><span class="p">.</span><span class="n">moveAll</span><span class="p">(</span><span class="n">moveStrategy</span><span class="p">)</span>
        <span class="n">carsGroup</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">cars</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">Pair</span><span class="p">(</span><span class="n">carsGroup</span><span class="p">,</span> <span class="n">findWinners</span><span class="p">())</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">fun</span> <span class="nf">findWinners</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Car</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">maxPosition</span> <span class="p">=</span> <span class="n">cars</span><span class="p">.</span><span class="n">findMaxPosition</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">cars</span><span class="p">.</span><span class="n">findCarsBySamePosition</span><span class="p">(</span><span class="n">maxPosition</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="ê³¼-">==ê³¼ ===</h4>

<ul>
  <li>
    <p><code class="highlighter-rouge">==</code> ì—°ì‚°ìëŠ” ìë°”ì˜ equalì™€ ê°™ë‹¤.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">===</code> ì—°ì‚°ìëŠ” ìë°”ì˜ <code class="highlighter-rouge">==</code>ì™€ ê°™ë‹¤.</p>
  </li>
</ul>

<h4 id="list-mutablelist">List, MutableList</h4>

<p>ì½”í‹€ë¦°ì—ì„œëŠ” ì½ê¸° ì „ìš© ë¦¬ìŠ¤íŠ¸(List)ì™€ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë¦¬ìŠ¤íŠ¸(MutableList)ê°€ ìˆë‹¤.<br />
<code class="highlighter-rouge">arrayListOf()</code> ë¥¼ ì“°ê¸°ë³´ë‹¤ëŠ” ì½”í‹€ë¦°ì´ ì œê³µí•˜ëŠ” List ë˜ëŠ” MutableListë¥¼ ì‚¬ìš©í•˜ì</p>

<p><strong>List</strong></p>

<p>ë°ì´í„°ë¥¼ ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ê³  ë¦¬ìŠ¤íŠ¸ë¥¼ ì„ ì–¸í•  ë•Œ ë„£ì€ ë°ì´í„°ë“¤ì„ ìˆ˜ì •, ì‚­ì œ, ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">cars</span> <span class="p">=</span> <span class="n">listOf</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"ama"</span><span class="p">),</span> <span class="n">Car</span><span class="p">(</span><span class="s">"mazzi"</span><span class="p">))</span>

<span class="n">println</span><span class="p">(</span><span class="n">cars</span><span class="p">[</span><span class="m">0</span><span class="p">])</span> <span class="c1">// O
</span>
<span class="n">cars</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"new"</span><span class="p">))</span> <span class="c1">// X ì»´íŒŒì¼ì—ëŸ¬
</span><span class="n">cars</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>   <span class="c1">// X ì»´íŒŒì¼ì—ëŸ¬
</span></code></pre></div></div>

<p><strong>MutableList</strong></p>

<p>ê¸°ì¡´ ìë°”ì—ì„œ ì‚¬ìš©í•˜ë˜ ArrayListì™€ ìœ ì‚¬í•˜ë¯€ë¡œ ArrayListì˜ í•¨ìˆ˜ë“¤ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">carsMutable</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">&lt;</span><span class="n">Car</span><span class="p">&gt;()</span>
<span class="n">carsMutable</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"ama"</span><span class="p">))</span> <span class="c1">// O
</span><span class="n">carsMutable</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"mazzi"</span><span class="p">))</span> <span class="c1">// O
</span><span class="n">carsMutable</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="c1">// O
</span><span class="n">println</span><span class="p">(</span><span class="n">carsMutable</span><span class="p">[</span><span class="m">0</span><span class="p">])</span> <span class="c1">// O
</span></code></pre></div></div>

<p>Listì™€ MutalbeList ì„œë¡œì˜ íƒ€ì…ìœ¼ë¡œ ë³€ê²½ë„ ê°€ëŠ¥í•˜ë‹¤. ì´ ë•Œ ì„œë¡œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">carsMutable</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">&lt;</span><span class="n">Car</span><span class="p">&gt;()</span>
<span class="n">carsMutable</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"ama"</span><span class="p">))</span> 
<span class="n">carsMutable</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"mazzi"</span><span class="p">))</span> 

<span class="kd">var</span> <span class="py">arrNotMutable</span> <span class="p">=</span> <span class="n">carsMutable</span><span class="p">.</span><span class="n">toList</span><span class="p">()</span> <span class="c1">//mutable -&gt; list ë³€ê²½
</span>
<span class="kd">var</span> <span class="py">arrReMutable</span> <span class="p">=</span> <span class="n">arrNotMutable</span><span class="p">.</span><span class="n">toMutableList</span><span class="p">()</span> <span class="c1">// list -&gt; mutable ë³€ê²½
</span><span class="n">arrReMutable</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="s">"new"</span><span class="p">))</span>
<span class="n">println</span><span class="p">(</span><span class="n">arrReMutable</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="assertthrows">assertThrows</h4>

<p>ìë°”ì²˜ëŸ¼ <code class="highlighter-rouge">assertThatThrownBy</code> ë¥¼ ì“°ì§€ ë§ê³  ì•„ë˜ì™€ ê°™ì´ ì“°ì.<br />
ì´ìœ ëŠ” <code class="highlighter-rouge">assertThatThrownBy</code> ë¥¼ ì‚¬ìš©í•  ê²½ìš° <code class="highlighter-rouge">isInstanceOf()</code> ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì—¬ê¸°ì—ëŠ” <code class="highlighter-rouge">.java.class</code> ë¥¼ ë¶™ì—¬ì£¼ì–´ì•¼ í•´ ì½”í‹€ë¦° ìŠ¤ëŸ½ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="n">IllegalArgumentException</span><span class="p">&gt;</span> <span class="p">{</span><span class="n">Car</span><span class="p">(</span><span class="n">name</span> <span class="p">=</span> <span class="n">input</span><span class="p">)}</span>
</code></pre></div></div>

<h4 id="object">object</h4>

<p>í´ë˜ìŠ¤ë¥¼ ë§Œë“¦ê³¼ ë™ì‹œì— ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§Œë“ ë‹¤. (ì‹±ê¸€í„´)</p>

<h4 id="ëŒë‹¤-ì‘ì„±">ëŒë‹¤ ì‘ì„±</h4>

<p>ì½”í‹€ë¦°ì€ ëŒë‹¤ì‹ì„ ì‘ì„±í•  ë•Œ <code class="highlighter-rouge">{}</code>ë¡œ í‘œí˜„í•œë‹¤. <br />
ëŒë‹¤ì˜ ì¸ìê°€ í•˜ë‚˜ë¼ë©´ ëŒë‹¤ì‹ ë‚´ë¶€ì—ì„œ <code class="highlighter-rouge">it</code>ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.<br />
í•¨ìˆ˜ì˜ ì¸ìë¡œ ëŒë‹¤ê°€ ë„˜ì–´ì˜¬ ë•Œ, ë§¨ ë§ˆì§€ë§‰ ìˆœë²ˆì´ë¼ë©´ <code class="highlighter-rouge">()</code> ë°–ì— ì“¸ ìˆ˜ ìˆë‹¤.<br />
ë§Œì•½ ëŒë‹¤ í•˜ë‚˜ë§Œ ë°›ëŠ” ê±°ë¼ë©´ <code class="highlighter-rouge">()</code>ë¥¼ ìƒëµí•  ìˆ˜ ìˆê² ì£ ?</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">newCars</span> <span class="p">=</span> <span class="n">cars</span><span class="p">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">moveStrategy</span><span class="p">)</span> <span class="p">}</span>
</code></pre></div></div>

<h4 id="associate"><code class="highlighter-rouge">associate{}</code></h4>

<p>mapì„ ê¸°ë³¸ì ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.</p>

<h4 id="inputì„-ì¬ê·€ì ìœ¼ë¡œ">Inputì„ ì¬ê·€ì ìœ¼ë¡œ</h4>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">tailrec</span> <span class="k">fun</span> <span class="nf">inputCarNames</span><span class="p">():</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"ê²½ì£¼í•  ìë™ì°¨ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”(ì´ë¦„ì€ ì‰¼í‘œ(,)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬ë¶„)."</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">readLine</span><span class="p">()</span><span class="o">?.</span><span class="n">replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">""</span><span class="p">)</span><span class="o">?.</span><span class="n">split</span><span class="p">(</span><span class="s">","</span><span class="p">)</span> <span class="o">?:</span> <span class="n">inputCarNames</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">tailrec</span> <span class="k">fun</span> <span class="nf">inputTryNumber</span><span class="p">():</span> <span class="n">Int</span> <span class="p">{</span>
    <span class="n">println</span><span class="p">(</span><span class="s">"ì‹œë„í•  íšŸìˆ˜ëŠ” ëª‡ íšŒì¸ê°€ìš”?"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">readLine</span><span class="p">()</span><span class="o">?.</span><span class="n">toIntOrNull</span><span class="p">()</span> <span class="o">?:</span> <span class="n">inputTryNumber</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong><code class="highlighter-rouge">tailrec</code></strong> : ê¼¬ë¦¬ì¬ê·€(tail recursive)ë¼ëŠ” ì˜ë¯¸ë¡œ, ì¶”ê°€ì ì¸ ì—°ì‚°ì´ ì—†ì´ ìì‹  ìŠ¤ìŠ¤ë¡œ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•˜ë‹¤ê°€ ì–´ë–¤ ê°’ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜
    <ul>
      <li>í•´ë‹¹ í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´ ì¬ê·€ì ì¸ í•¨ìˆ˜ í˜¸ì¶œì˜ ìµœì í™”ê°€(?) ì¼ì–´ë‚¨</li>
    </ul>
  </li>
</ul>

<h4 id="ì¤‘ìœ„-í•¨ìˆ˜-to-í‚¤ì›Œë“œ">ì¤‘ìœ„ í•¨ìˆ˜ (to í‚¤ì›Œë“œ)</h4>

<ul>
  <li><strong>ì¤‘ìœ„ í‘œí˜„ë²•</strong> : ë³€ìˆ˜ì™€ ë³€ìˆ˜ì‚¬ì´ì— í•¨ìˆ˜ë¥¼ ë„£ì–´ ì—°ì‚°ì ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ</li>
</ul>

<p><strong>ì¡°ê±´</strong></p>

<ul>
  <li>ë©¤ë²„ ë©”ì„œë“œ ë˜ëŠ” í™•ì¥ í•¨ìˆ˜ì—¬ì•¼ í•¨</li>
  <li>í•˜ë‚˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì ¸ì•¼í•¨</li>
  <li><strong>infix</strong> í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜</li>
</ul>

<p><strong>ex) Pair ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ to</strong></p>

<p><img src="https://images.velog.io/images/new_wisdom/post/7377057b-c283-4102-8e00-d704ae58d308/image.png" style="zoom:33%;" /></p>

<h4 id="by-í‚¤ì›Œë“œ">by í‚¤ì›Œë“œ</h4>

<p><img src="https://images.velog.io/images/new_wisdom/post/da1ab914-04bb-4128-ae3d-3393fa9ec579/image.png" style="zoom:33%;" /></p>

<p>ìœ„ ì½”ë“œì—ì„œ Carì˜ ì¼ê¸‰ ì»¬ë ‰ì…˜ì¸ Carsë¥¼ ìˆœíšŒí•  ë•Œ í˜„ì¬ëŠ” <code class="highlighter-rouge">List&lt;Car&gt;</code>ì— ì ‘ê·¼í•˜ì—¬ ìˆœíšŒí•˜ê³  ìˆë‹¤.<br />
í•˜ì§€ë§Œ ì½”í‹€ë¦°ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/4ed5d81e-1003-4aaa-aead-6cfe5f7cc4df/image.png" style="zoom:33%;" /></p>

<p>ìœ„ì™€ ê°™ì´ cars ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ë°”ë¡œ ìˆœíšŒí•  ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” Carsê°€ ë‹¤ìŒê³¼ ê°™ì´ <code class="highlighter-rouge">List&lt;Car&gt;</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/4ebb7070-a1b5-4d4b-a5b7-0d2c56524246/image.png" style="zoom:33%;" /></p>

<p>ë­ì•¼ ì™„ì „ ì‹ ê¸°í•´â€¦.  <br />
ì œì´ìŠ¨ì´ ì¼ë‹¨ ì§€ê¸ˆì€ â€œì™€ ë­ì•¼â€ ì´ì •ë„ê¹Œì§€ë§Œ ì•Œì•„ë‘ì–´ë„ ëœë‹¤ê³  í•˜ì˜€ë‹¤.<br />
ì½”í‹€ë¦° ì§±</p>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Spring MVC - 4. MVC í”„ë ˆì„ì›Œí¬ ë§Œë“¤ê¸°</title>
	  <link>//spring-mvc-4</link>
	  <author></author>
	  <pubDate>2021-05-04T19:18:00+09:00</pubDate>
	  <guid>//spring-mvc-4</guid>
	  <description><![CDATA[
	     <h2 id="mvc-í”„ë ˆì„ì›Œí¬-ë§Œë“¤ê¸°">MVC í”„ë ˆì„ì›Œí¬ ë§Œë“¤ê¸°</h2>

<h2 id="í”„ë¡ íŠ¸-ì»¨íŠ¸ë¡¤ëŸ¬-íŒ¨í„´">í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´</h2>

<p>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë„ ì„œë¸”ë¦¿ì´ë‹¤.<br />
ìš”ì²­ì„ ëª¨ë‘ ë°›ê³  ìš”ì²­ì— ë§ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•œë‹¤.</p>

<h3 id="íŠ¹ì§•">íŠ¹ì§•</h3>

<p>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ ì„œë¸”ë¦¿ í•˜ë‚˜ë¡œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ê³ , ìš”ì²­ì— ë§ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì„œ í˜¸ì¶œí•œë‹¤.<br />
ì…êµ¬ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ”ë‹¤.<br />
í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì„œë¸”ë¦¿ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p>

<h3 id="ìŠ¤í”„ë§-ì›¹-mvcì™€-í”„ë¡ íŠ¸-ì»¨íŠ¸ë¡¤ëŸ¬">ìŠ¤í”„ë§ ì›¹ MVCì™€ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬</h3>

<p>ìŠ¤í”„ë§ ì›¹ MVCì˜ í•µì‹¬ë„ ë°”ë¡œ FrontControllerì´ë‹¤. (DispatcherServletì´ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.)</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/b2493682-0c37-4a1c-93c4-f2ffd02e7862/image.png" style="zoom: 67%;" /></p>

<p>ControllerV1ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê³  ì´ë¥¼ êµ¬í˜„í•œ Controllerë“¤ì„ ë§Œë“ ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberFormControllerV1</span> <span class="kd">implements</span> <span class="n">ControllerV1</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">process</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">viewPath</span> <span class="o">=</span> <span class="s">"/WEB-INF/views/new-form.jsp"</span><span class="o">;</span>
        <span class="n">RequestDispatcher</span> <span class="n">requestDispatcher</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span> <span class="c1">// ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·°ë¡œ ì´ë™</span>
        <span class="n">requestDispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span> <span class="c1">// ì„œë¸”ë¦¿ì—ì„œ JSPë¥¼ í˜¸ì¶œí•œë‹¤.</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="frontcontrollerservletv1">FrontControllerServletV1</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"frontControllerServletV1"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/front-controller/v1/*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrontControllerServletV1</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV1</span><span class="o">&gt;</span> <span class="n">controllerMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">FrontControllerServletV1</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV1</span><span class="o">&gt;</span> <span class="n">controllerMap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v1/members/new-form"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberFormControllerV1</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v1/members/save"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberSaveControllerV1</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v1/members"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberListControllerV1</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestURI</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">();</span>
        <span class="n">ControllerV1</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">controllerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">requestURI</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">controller</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Controller ì •ë³´ë¥¼ ê°€ì§„ ì„œë¸”ë¦¿ì¸ FrontContollerë¥¼ êµ¬í˜„í•œë‹¤.</p>

<ul>
  <li><strong>urlPatterns</strong> :  â€œ/front-controller/v1/â€ë¥¼ í¬í•¨í•œ í•˜ìœ„ ëª¨ë“  ìš”ì²­ì„ í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ì—ì„œ ë°›ì•„ë“¤ì¸ë‹¤.</li>
  <li><strong>controllerMap</strong> : key-ë§¤í•‘ URL, value-í˜¸ì¶œë  ì»¨íŠ¸ë¡¤ëŸ¬</li>
  <li><strong>service()</strong> : reqeustURIë¥¼ ì¡°íšŒí•˜ì—¬ ì‹¤ì œ í˜¸ì¶œí•  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ê³  í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰(<code class="highlighter-rouge">process()</code>)í•œë‹¤.</li>
</ul>

<p>ì—¬ëŸ¬ Controllerì™€ ì„œë¸”ë¦¿ì´ í•˜ë‚˜ì˜ JSPë¥¼ ì¬ì‚¬ìš©í•˜ê³  ìˆë‹¤.</p>

<hr />

<h2 id="view-ë¶„ë¦¬">View ë¶„ë¦¬</h2>

<p>Controllerì—ì„œ Viewë¡œ ì´ë™í•˜ëŠ” ë¶€ë¶„ì´ ì¤‘ë³µëœë‹¤.<br />
ControllerëŠ” MyViewë§Œ ë°˜í™˜í•´ì£¼ë©´ ëœë‹¤.</p>

<h4 id="controllerv2">ControllerV2</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ControllerV2</span> <span class="o">{</span>
    <span class="n">MyView</span> <span class="nf">process</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë¯€ë¡œ ë°˜í™˜ íƒ€ì…ì„ ë§ì¶œ ìˆ˜ ìˆë‹¤.</li>
</ul>

<h4 id="myview">MyView</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyView</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">viewPath</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MyView</span><span class="o">(</span><span class="n">String</span> <span class="n">viewPath</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">viewPath</span> <span class="o">=</span> <span class="n">viewPath</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">render</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">RequestDispatcher</span> <span class="n">dispatcher</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span>
        <span class="n">dispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="memberformcontrollerv2">MemberFormControllerV2</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberFormControllerV2</span> <span class="kd">implements</span> <span class="n">ControllerV2</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">MyView</span> <span class="nf">process</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">MyView</span><span class="o">(</span><span class="s">"/WEB-INF/views/new-form.jsp"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>viewPathë¥¼ ê°€ì§€ê³  ìˆëŠ” MyView ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>

<h4 id="frontcontrollerservletv2">FrontControllerServletV2</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"frontControllerServletV2"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/front-controller/v2/*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrontControllerServletV2</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV2</span><span class="o">&gt;</span> <span class="n">controllerMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">FrontControllerServletV2</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV2</span><span class="o">&gt;</span> <span class="n">controllerMap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members/new-form"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberFormControllerV2</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members/save"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberSaveControllerV2</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberListControllerV2</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestURI</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">();</span>
        <span class="n">ControllerV2</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">controllerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">requestURI</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">controller</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
        <span class="n">view</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h2 id="model-ì¶”ê°€">Model ì¶”ê°€</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/9a6ede47-f242-4b1f-a88e-08f055df0508/image.png" style="zoom:67%;" /></p>

<h3 id="ì„œë¸”ë¦¿-ì¢…ì†ì„±-ì¶”ê°€">ì„œë¸”ë¦¿ ì¢…ì†ì„± ì¶”ê°€</h3>

<p>ì»¨íŠ¸ë¡¤ëŸ¬ ì…ì¥ì—ì„œ <code class="highlighter-rouge">HttpServletRequest</code>, <code class="highlighter-rouge">HttpServletResponse</code>ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤.<br />
ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ Mapìœ¼ë¡œ ë„˜ê¸°ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì„œë¸”ë¦¿ì´ ì•„ë‹ˆì–´ë„ ë™ì‘í•  ìˆ˜ ìˆë‹¤.</p>

<h3 id="ë·°-ì´ë¦„-ì¤‘ë³µ-ì œê±°">ë·° ì´ë¦„ ì¤‘ë³µ ì œê±°</h3>

<p>í˜„ì¬ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì§€ì •í•˜ëŠ” ë·° ì´ë¦„ì—ëŠ” ì¤‘ë³µ(<code class="highlighter-rouge">/WEB-INF/views/</code>)ì´ ì¡´ì¬í•œë‹¤.<br />
ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ ë°˜í™˜í•˜ê³ , ë¬¼ë¦¬ ì´ë¦„ì€ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ ë³€ê²½í•´ë³´ì.<br />
ë…¼ë¦¬ì  ë¬¼ë¦¬ì  ì´ë¦„ì„ êµ¬ë¶„í•˜ë©´ ë‚˜ì¤‘ì— ë³€ê²½í•  ë•Œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë³€ê²½í•  ì¼ì´ ì—†ë‹¤.</p>

<h3 id="modelview">ModelView</h3>

<p>Modelì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ <code class="highlighter-rouge">request.setAttribute()</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë·°ì— ì „ë‹¬í–ˆë‹¤.<br />
ì„œë¸”ë¦¿ì˜ ì¢…ì†ì„±ì„ ì œê±°í•˜ê¸° ìœ„í•´, Modelì„ ë”°ë¡œ ë§Œë“¤ê³  View ì´ë¦„ê¹Œì§€ ì „ë‹¬í•˜ëŠ” ê°ì²´ë¥¼ ë§Œë“ ë‹¤.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ModelView</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">viewName</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">ModelView</span><span class="o">(</span><span class="n">String</span> <span class="n">viewName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">viewName</span> <span class="o">=</span> <span class="n">viewName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="controllerv3">ControllerV3</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ControllerV3</span> <span class="o">{</span>
    <span class="n">ModelView</span> <span class="nf">process</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ModelViewë¥¼ ë°˜í™˜í•˜ë„ë¡ í•œë‹¤.</li>
</ul>

<h4 id="membersavecontrollerv3">MemberSaveControllerV3</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberSaveControllerV3</span> <span class="kd">implements</span> <span class="n">ControllerV3</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="n">MemberRepository</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">ModelView</span> <span class="nf">process</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"username"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">paramMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"age"</span><span class="o">));</span>

        <span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="n">memberRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

        <span class="n">ModelView</span> <span class="n">mv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ModelView</span><span class="o">(</span><span class="s">"save-result"</span><span class="o">);</span>
        <span class="n">mv</span><span class="o">.</span><span class="na">getModel</span><span class="o">().</span><span class="na">put</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">mv</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ë…¼ë¦¬ ì´ë¦„ì„ ModelView ê°ì²´ì— ë„£ì–´ ìƒì„±í•˜ë„ë¡ í•œë‹¤.</li>
  <li>ëª¨ë¸ì— ë·°ì— í•„ìš”í•œ ê°ì²´ë¥¼ ë‹´ê³  ModelView ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>

<h4 id="frontcontrollerservletv3-ì¼ë¶€">FrontControllerServletV3 ì¼ë¶€</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestURI</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">();</span>
        <span class="n">ControllerV3</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">controllerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">requestURI</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">controller</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// param Map</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="n">createParamMap</span><span class="o">(</span><span class="n">req</span><span class="o">);</span>
        <span class="n">ModelView</span> <span class="n">mv</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">paramMap</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">viewName</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="na">getViewName</span><span class="o">();</span> <span class="c1">// ë…¼ë¦¬ ì´ë¦„ ex) new-form</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="n">viewResolver</span><span class="o">(</span><span class="n">viewName</span><span class="o">);</span>
        <span class="n">view</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="n">mv</span><span class="o">.</span><span class="na">getModel</span><span class="o">(),</span> <span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">createParamMap</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">req</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>
        <span class="k">return</span> <span class="n">paramMap</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">MyView</span> <span class="nf">viewResolver</span><span class="o">(</span><span class="n">String</span> <span class="n">viewName</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyView</span><span class="o">(</span><span class="s">"/WEB-INF/views/"</span> <span class="o">+</span> <span class="n">viewName</span> <span class="o">+</span> <span class="s">".jsp"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">createParamMap()</code> : HttpServletRequestì˜ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ Mapìœ¼ë¡œ ë³€ê²½í•œë‹¤.</li>
  <li><code class="highlighter-rouge">viewResolver()</code> : ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°˜í™˜í•œ ë…¼ë¦¬ ë·° ì´ë¦„ì„ ì‹¤ì œ ë¬¼ë¦¬ ë·° ê²½ë¡œë¡œ ë³€ê²½í•œë‹¤.</li>
  <li><code class="highlighter-rouge">view.render(mv.getModel(), req, resp)</code> : ë·° ê°ì²´ë¥¼ í†µí•´  HTML í™”ë©´ì„ ë Œë”ë§í•œë‹¤.</li>
</ul>

<h4 id="myview-1">MyView</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">render</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span><span class="o">,</span> <span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="n">modelToRequestAttribute</span><span class="o">(</span><span class="n">model</span><span class="o">,</span> <span class="n">req</span><span class="o">);</span>
    <span class="n">RequestDispatcher</span> <span class="n">dispatcher</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span>
    <span class="n">dispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h2 id="ë‹¨ìˆœí•˜ê³ -ì‹¤ìš©ì ì¸-ì»¨íŠ¸ë¡¤ëŸ¬">ë‹¨ìˆœí•˜ê³  ì‹¤ìš©ì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬</h2>

<p>ì»¨íŠ¸ë¡¤ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ì„œ í•­ìƒ ModelView ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ë°˜í™˜í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ë²ˆê±°ë¡­ë‹¤.<br />
ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” Viewì˜ ì´ë¦„ë§Œ ë³€ê²½í•˜ë„ë¡, ì‹¤ìš©ì„± ìˆë„ë¡ ë³€ê²½í•œë‹¤.</p>

<h4 id="controllerv4">ControllerV4</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ControllerV4</span> <span class="o">{</span>
    <span class="cm">/**
     *
     * @param paramMap
     * @param model
     * @return viewName
     */</span>

    <span class="n">String</span> <span class="nf">process</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span><span class="o">,</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>view ì´ë¦„ì„ ë°˜í™˜í•˜ë„ë¡ ë³€ê²½í•œë‹¤.</li>
</ul>

<p>####</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberSaveControllerV4</span> <span class="kd">implements</span> <span class="n">ControllerV4</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="n">MemberRepository</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">process</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span><span class="o">,</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"username"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">paramMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"age"</span><span class="o">));</span>
        <span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="n">memberRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
        <span class="n">model</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"save-result"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Controllerì—ì„œëŠ” í•„ìš”í•œ ê°’ì„ êº¼ë‚´ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í˜¸ì¶œí•œ í›„ viewNameë§Œì„ ë°˜í™˜í•œë‹¤.</li>
</ul>

<h4 id="frontcontrollerservletv4">FrontControllerServletV4</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"frontControllerServletV4"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/front-controller/v2/*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrontControllerServletV4</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV4</span><span class="o">&gt;</span> <span class="n">controllerMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">FrontControllerServletV4</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">ControllerV4</span><span class="o">&gt;</span> <span class="n">controllerMap</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members/new-form"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberFormControllerV4</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members/save"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberSaveControllerV4</span><span class="o">());</span>
        <span class="n">controllerMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v2/members"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberListControllerV4</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestURI</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">();</span>
        <span class="n">ControllerV4</span> <span class="n">controller</span> <span class="o">=</span> <span class="n">controllerMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">requestURI</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">controller</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// param Map</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="n">createParamMap</span><span class="o">(</span><span class="n">req</span><span class="o">);</span>
      	<span class="c1">// model </span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">String</span> <span class="n">viewName</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">paramMap</span><span class="o">,</span> <span class="n">model</span><span class="o">);</span>

        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="n">viewResolver</span><span class="o">(</span><span class="n">viewName</span><span class="o">);</span>
        <span class="n">view</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="n">model</span><span class="o">,</span> <span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">createParamMap</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">req</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>
        <span class="k">return</span> <span class="n">paramMap</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">MyView</span> <span class="nf">viewResolver</span><span class="o">(</span><span class="n">String</span> <span class="n">viewName</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyView</span><span class="o">(</span><span class="s">"/WEB-INF/views/"</span> <span class="o">+</span> <span class="n">viewName</span> <span class="o">+</span> <span class="s">".jsp"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ modelì„ ë§Œë“¤ê³  ê° Controllerì— paramMapê³¼ modelì„ ë„˜ê²¨ ì²˜ë¦¬ë¥¼ í•˜ê³ , viewNameì„ ë°˜í™˜ë°›ëŠ”ë‹¤.</li>
  <li>modelViewì—ì„œ modelì„ êº¼ë‚¼ í•„ìš”ê°€ ì—†ë‹¤.</li>
</ul>

<p>í•˜ì§€ë§Œ, ì§€ê¸ˆ ControllerV4 ì¸í„°í˜ì´ìŠ¤ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œí•œí•˜ê³  ìˆë‹¤.</p>

<hr />

<h2 id="ìœ ì—°í•œ-controller---ì–´ëŒ‘í„°-íŒ¨í„´">ìœ ì—°í•œ Controller - ì–´ëŒ‘í„° íŒ¨í„´</h2>

<p>ì§€ê¸ˆê¹Œì§€ì˜ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í•œê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í–ˆì—ˆë‹¤. <br />
ì–´ë– í•œ ì»¨íŠ¸ë¡¤ëŸ¬ë„ í˜¸í™˜ì´ ê°€ëŠ¥í•˜ë„ë¡ ì–´ëŒ‘í„° íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/0f169df9-469c-4e38-b61c-2cf42f872444/image.png" alt="" /></p>

<ul>
  <li>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° : ì¤‘ê°„ì— ì–´ëŒ‘í„° ì—­í• ì„ í•˜ëŠ” ì–´ëŒ‘í„°ê°€ ì¶”ê°€ë˜ì—ˆë‹¤. ì´ ë•ë¶„ì— ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.</li>
  <li>ê¸°ì¡´ì—ëŠ” í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°”ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ì˜€ì§€ë§Œ, ì´ì œëŠ” ì–´ëŒ‘í„°ë¥¼ í†µí•´ì„œ í˜¸ì¶œí•œë‹¤.</li>
  <li>í•¸ë“¤ëŸ¬ : ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¢€ ë” ë„“ì€ ë²”ìœ„. ì–´ëŒ‘í„°ê°€ ìˆê¸° ë•Œë¬¸ì— ì»¨íŠ¸ë¡¤ëŸ¬ ê°œë… ë¿ë§Œ ì•„ë‹ˆë¼ í•´ë‹¹í•˜ëŠ” ì–´ëŒ‘í„°ë§Œ ìˆìœ¼ë©´ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>

<h4 id="myhandleradapter">MyHandlerAdapter</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MyHandlerAdapter</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Object</span> <span class="n">handler</span><span class="o">);</span>
    <span class="n">ModelView</span> <span class="nf">handle</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span> <span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">supports(Object handler)</code> : ì–´ëŒ‘í„°ê°€ í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ë°˜í™˜</li>
  <li><code class="highlighter-rouge">handle(...)</code> : ì–´ëŒ‘í„°ëŠ” ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¡œ ModelViewë¥¼ ë°˜í™˜í•œë‹¤.</li>
  <li>ë§Œì•½ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ModelViewë¥¼ ë°˜í™˜í•˜ì§€ ëª»í•˜ë©´, ì–´ëŒ‘í„°ê°€ ì§ì ‘ ìƒì„±í•œë‹¤.</li>
  <li>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ ì–´ëŒ‘í„°ê°€ ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•œë‹¤.</li>
</ul>

<h4 id="controllerv3handleradapter">ControllerV3HandlerAdapter</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ControllerV3HandlerAdapter</span> <span class="kd">implements</span> <span class="n">MyHandlerAdapter</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">handler</span> <span class="k">instanceof</span> <span class="n">ControllerV3</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">ModelView</span> <span class="nf">handle</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span> <span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">ControllerV3</span> <span class="n">controller</span> <span class="o">=</span> <span class="o">(</span><span class="n">ControllerV3</span><span class="o">)</span> <span class="n">handler</span><span class="o">;</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="n">createParamMap</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
        <span class="n">ModelView</span> <span class="n">mv</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">paramMap</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">mv</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">createParamMap</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">request</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span>
                        <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>
        <span class="k">return</span> <span class="n">paramMap</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>supports()ë¡œ ControllerV3 íƒ€ì…ì¸ì§€ í™•ì¸í•˜ê³  ë§ë‹¤ë©´ í˜¸ì¶œí•œë‹¤.</li>
</ul>

<p>####</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"frontControllerServletV5"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/front-controller/v5/*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrontControllerServletV5</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">handlerMappingMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">MyHandlerAdapter</span><span class="o">&gt;</span> <span class="n">handlerAdapters</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="kd">public</span> <span class="nf">FrontControllerServletV5</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">initHandlerMappingMap</span><span class="o">();</span>
        <span class="n">initHandlerAdapters</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initHandlerMappingMap</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">handlerMappingMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v5/v3/members/new-form"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberFormControllerV3</span><span class="o">());</span>
        <span class="n">handlerMappingMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v5/v3/members/save"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberSaveControllerV3</span><span class="o">());</span>
        <span class="n">handlerMappingMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/front-controller/v5/v3/members"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">MemberListControllerV3</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initHandlerAdapters</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">handlerAdapters</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">ControllerV3HandlerAdapter</span><span class="o">());</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="c1">// ìš”ì²­ ì •ë³´ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</span>
        <span class="n">Object</span> <span class="n">handler</span> <span class="o">=</span> <span class="n">getHandler</span><span class="o">(</span><span class="n">req</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">handler</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_NOT_FOUND</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// ì–´ëŒ‘í„°ë¥¼ ì°¾ëŠ”ë‹¤.</span>
        <span class="n">MyHandlerAdapter</span> <span class="n">adapter</span> <span class="o">=</span> <span class="n">getHandlerAdapter</span><span class="o">(</span><span class="n">handler</span><span class="o">);</span>

        <span class="n">ModelView</span> <span class="n">mv</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">viewName</span> <span class="o">=</span> <span class="n">mv</span><span class="o">.</span><span class="na">getViewName</span><span class="o">();</span> <span class="c1">// ë…¼ë¦¬ ì´ë¦„ ex) new-form</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="n">viewResolver</span><span class="o">(</span><span class="n">viewName</span><span class="o">);</span>
        
        <span class="n">view</span><span class="o">.</span><span class="na">render</span><span class="o">(</span><span class="n">mv</span><span class="o">.</span><span class="na">getModel</span><span class="o">(),</span> <span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">MyHandlerAdapter</span> <span class="nf">getHandlerAdapter</span><span class="o">(</span><span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">MyHandlerAdapter</span> <span class="n">adapter</span> <span class="o">:</span> <span class="n">handlerAdapters</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">adapter</span><span class="o">.</span><span class="na">supports</span><span class="o">(</span><span class="n">handler</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">adapter</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"handler adapterë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. handler "</span> <span class="o">+</span> <span class="n">handler</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Object</span> <span class="nf">getHandler</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestURI</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">();</span>
        <span class="n">Object</span> <span class="n">handler</span> <span class="o">=</span> <span class="n">handlerMappingMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">requestURI</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">handler</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">createParamMap</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">req</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>
        <span class="k">return</span> <span class="n">paramMap</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">MyView</span> <span class="nf">viewResolver</span><span class="o">(</span><span class="n">String</span> <span class="n">viewName</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">MyView</span> <span class="n">view</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyView</span><span class="o">(</span><span class="s">"/WEB-INF/views/"</span> <span class="o">+</span> <span class="n">viewName</span> <span class="o">+</span> <span class="s">".jsp"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ìƒì„±ì : í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ ì–´ëŒ‘í„°ë¥¼ ì´ˆê¸°í™”í•œë‹¤.</li>
  <li>ë§¤í•‘ ì •ë³´ì¸ handlerMappingMap ì´ Object Mapìœ¼ë¡œ ì•„ë¬´ íƒ€ì…ì´ë‚˜ ë°›ì„ ìˆ˜ ìˆë‹¤.</li>
  <li>í•¸ë“¤ëŸ¬ ë§¤í•‘</li>
  <li>í•¸ë“¤ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì–´ëŒ‘í„° ì¡°íšŒ</li>
  <li>ì–´ëŒ‘í„° í˜¸ì¶œ</li>
</ul>

<h4 id="controllerv4handleradapter-ì˜ˆì œ">ControllerV4HandlerAdapter ì˜ˆì œ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ControllerV4HandlerAdapter</span> <span class="kd">implements</span> <span class="n">MyHandlerAdapter</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">supports</span><span class="o">(</span><span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">handler</span> <span class="k">instanceof</span> <span class="n">ControllerV4</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">ModelView</span> <span class="nf">handle</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span> <span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">ControllerV4</span> <span class="n">controller</span> <span class="o">=</span> <span class="o">(</span><span class="n">ControllerV4</span><span class="o">)</span> <span class="n">handler</span><span class="o">;</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="n">createParamMap</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">model</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
      
        <span class="c1">//  viewNameë§Œ ë°˜í™˜í•  ê²½ìš° ModelView ê°ì²´ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ì—­í• ë„ í•œë‹¤.</span>
        <span class="n">String</span> <span class="n">viewName</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="na">process</span><span class="o">(</span><span class="n">paramMap</span><span class="o">,</span> <span class="n">model</span><span class="o">);</span>

        <span class="n">ModelView</span> <span class="n">mv</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ModelView</span><span class="o">(</span><span class="n">viewName</span><span class="o">);</span>
        <span class="n">mv</span><span class="o">.</span><span class="na">setModel</span><span class="o">(</span><span class="n">model</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">mv</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="nf">createParamMap</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">paramMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">request</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span>
                        <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>
        <span class="k">return</span> <span class="n">paramMap</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì–´ëŒ‘í„°ê°€ í˜¸ì¶œí•˜ëŠ” ControllerV4ëŠ” viewNameë§Œ ë°˜í™˜í•˜ëŠ”ë°, ì´ë•Œ ì–´ëŒ‘í„°ì—ì„œ ì´ë¥¼ ModelView ê°ì²´ë¡œ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.</li>
</ul>

<p>í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ ì…ì¥ì—ì„œëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ì—ë§Œ ì˜ì¡´í•˜ê³  ìˆë‹¤.</p>

<p>ì´ MVC í”„ë ˆì„ ì›Œí¬ëŠ” ì—­í• ê³¼ êµ¬í˜„ì´ ë¶„ë¦¬ë˜ì–´ ìˆë‹¤.  <br />
ëª¨ë“  ê²ƒì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê³  êµ¬í˜„í•˜ê³  ì‹¶ì€ ë¶€ë¶„ë§Œ ì£¼ì…í•˜ë©´ ì™„ë²½! (ìŠ¤í”„ë§ MVCëŠ” ë·°ì™€ ë·°ë¦¬ì¡¸ë²„ ë‹¤ ì¸í„°í˜ì´ìŠ¤ë¡œ êµ¬í˜„ë˜ì–´ìˆë‹¤.)
ì–´ë–¤ í•¸ë“¤ëŸ¬ë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ì–´ë„ ìš°ë¦¬ëŠ” í•¸ë“¤ëŸ¬ì–´ëŒ‘í„°ë§Œ êµ¬í˜„í•´ì£¼ë©´ ëœë‹¤!</p>

<h4 id="ex-requestmapping">ex) @RequestMapping()</h4>

<p>RequestMappingHandlerAdapter : ìœ„ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í•¸ë“¤ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” ì–´ëŒ‘í„°</p>


	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Spring MVC - 3. ì„œë¸”ë¦¿, JSP, MVC íŒ¨í„´</title>
	  <link>//spring-mvc-5</link>
	  <author></author>
	  <pubDate>2021-05-03T19:18:00+09:00</pubDate>
	  <guid>//spring-mvc-5</guid>
	  <description><![CDATA[
	     <h2 id="ìŠ¤í”„ë§-mvc-ì „ì²´-êµ¬ì¡°">ìŠ¤í”„ë§ MVC ì „ì²´ êµ¬ì¡°</h2>

<p><img src="https://images.velog.io/images/new_wisdom/post/6b0d1860-915b-4819-9d2f-9521353e2142/image.png" style="zoom:80%;" /></p>

<h4 id="ì§€ê¸ˆê»-ë§Œë“¤ì—ˆë˜-í”„ë ˆì„-ì›Œí¬---ìŠ¤í”„ë§-mvc">ì§€ê¸ˆê» ë§Œë“¤ì—ˆë˜ í”„ë ˆì„ ì›Œí¬ &lt;-&gt; ìŠ¤í”„ë§ MVC</h4>

<ul>
  <li>FrontController - DispatcherServlet</li>
  <li>HandlerMappingMap - HandlerMapping</li>
  <li>MyHandlerAdapter - HandlerAdapter</li>
  <li>ModelView - ModelAndView</li>
  <li>ViewResolver - ViewResolver</li>
  <li>MyView - View</li>
</ul>

<h3 id="dispatcherservlet">DispatcherServlet</h3>

<p>DispacherServlet ë„ ë¶€ëª¨ í´ë˜ìŠ¤ì—ì„œ HttpServlet ì„ ìƒì† ë°›ì•„ì„œ ì‚¬ìš©í•˜ê³ , ì„œë¸”ë¦¿ìœ¼ë¡œ ë™ì‘í•œë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/630a4870-d2a9-4dec-a4c3-ccfe49db023a/image.png" style="zoom:67%;" /></p>

<p>ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” DispatcherServletë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ë©´ì„œ ëª¨ë“  ê²½ë¡œì— ëŒ€í•´ì„œ ë§¤í•‘í•œë‹¤.</p>

<h4 id="ìš”ì²­ì˜-íë¦„">ìš”ì²­ì˜ íë¦„</h4>

<p>DispatcherServletì´ í˜¸ì¶œë˜ë©´ <code class="highlighter-rouge">service()</code> ê°€ í˜¸ì¶œëœë‹¤.<br />
ìµœì¢…ì ìœ¼ë¡œëŠ” DispatcherServlet.doDispatch()` ê°€ í˜¸ì¶œëœë‹¤.</p>

<h4 id="dodispatch">doDispatch()</h4>

<p><img src="https://images.velog.io/images/new_wisdom/post/cbfe84c7-a2f8-4bf1-a082-42c141b2e287/image.png" style="zoom:67%;" /></p>

<p>DispatcherServletì˜ doDispatch()ì˜ ì£¼ìš” ë¶€ë¶„ë“¤ì„ ì‚´í´ë³´ì!</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/0e644c4e-cd85-405a-a1ea-f063768df8a1/image.png" alt="" /></p>

<ul>
  <li>ModelAndView</li>
  <li>getHandler() : í•¸ë“¤ëŸ¬ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
    <ul>
      <li>í•¸ë“¤ëŸ¬ê°€ ì—†ìœ¼ë©´ 404ë¡œ ì…‹íŒ…ì„ í•œë‹¤.</li>
    </ul>
  </li>
  <li>getHandlerAdapter() : í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/536712af-32f3-41fc-af6f-5d885365747d/image.png" style="zoom:67%;" /></p>

<ul>
  <li>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¡œ í•¸ë“¤ëŸ¬ í˜¸ì¶œí•˜ê³  ModelAndView ë°˜í™˜</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/eef62fa6-513d-4ed3-b7a3-18ad10ae0074/image.png" style="zoom:67%;" /></p>

<ul>
  <li>view ë Œë”ë§ í˜¸ì¶œ</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/5a04d84a-5b0c-456c-baa1-ddf4401c2f36/image.png" alt="" /></p>

<ul>
  <li>ViewResolverë¥¼ í†µí•´ì„œ viewë¥¼ ì°¾ì•„ ë°˜í™˜</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/56d8ddca-3457-4b3a-a7b8-c462504d98d8/image.png" alt="" /></p>

<ul>
  <li>View ë Œë”ë§</li>
</ul>

<h3 id="ìŠ¤í”„ë§-mvc-êµ¬ì¡°">ìŠ¤í”„ë§ MVC êµ¬ì¡°</h3>

<ol>
  <li>í•¸ë“¤ëŸ¬ ì¡°íšŒ : í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ ìš”ì²­ URLì— ë§¤í•‘ëœ í•¸ë“¤ëŸ¬ ì¡°íšŒ</li>
  <li>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ : í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ</li>
  <li>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰ : í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰</li>
  <li>í•¸ë“¤ëŸ¬ ì‹¤í–‰ : í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ ì‹¤ì œ í•¸ë“¤ëŸ¬ ì‹¤í–‰</li>
  <li>ModelAndView ë°˜í™˜ : í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ” í•¸ë“¤ëŸ¬ê°€ ë°˜í™˜í•˜ëŠ” ì •ë³´ë¥¼ ModelAndViewë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜</li>
  <li>viewResolver í˜¸ì¶œ : JSPì˜ ê²½ìš° <code class="highlighter-rouge">InternalResourceViewResolver</code> ê°€ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ê³  ì‚¬ìš©ë¨</li>
  <li>view ë°˜í™˜ : ë·° ë¦¬ì¡¸ë²„ëŠ” ë·°ì˜ ë…¼ë¦¬ ì´ë¦„ì„ ë¬¼ë¦¬ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ê³  ë Œë”ë§ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ë·° ê°ì²´ ë°˜í™˜
    <ul>
      <li>JSPì˜ ê²½ìš° InternalResourceViewResolver(JstlView) ë¥¼ ë°˜í™˜í•˜ê³  ë‚´ë¶€ì— forward() ë¡œì§ì´ ìˆë‹¤.</li>
    </ul>
  </li>
  <li>ë·° ë Œë”ë§ : ë·°ë¥¼ í†µí•´ì„œ ë·°ë¥¼ ë Œë”ë§ í•œë‹¤.</li>
</ol>

<p>ê°€ì¥ í° ì¥ì ì€ DispatcherServlet  ì½”ë“œì˜ ë³€ê²½ ì—†ì´ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ë³€ê²½í•˜ê±°ë‚˜ í™•ì¥í•  ìˆ˜ ìˆë‹¤.<br />
ëŒ€ë¶€ë¶„ í™•ì¥ ê°€ëŠ¥í•˜ë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•œë‹¤.</p>

<p>í•˜ì§€ë§Œ ì‚¬ì‹¤ ìš°ë¦¬ê°€ í™•ì¥í•  ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê±°ì˜ ì—†ë‹¤.</p>

<hr />

<h2 id="í•¸ë“¤ëŸ¬-ë§¤í•‘ê³¼-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°">í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°</h2>

<h3 id="ê³¼ê±°-controller-ì¸í„°í˜ì´ìŠ¤">ê³¼ê±° Controller ì¸í„°í˜ì´ìŠ¤</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Controller</span> <span class="o">{</span>
    <span class="n">ModelAndView</span> <span class="nf">handleRequest</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">@Component</code> :  â€œâ€œ/springmvc/old-controller: ë¼ëŠ” ì´ë¦„ì˜ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡</li>
  <li>ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ<strong>URL</strong>ì„ ë§¤í•‘</li>
</ul>

<h4 id="ìœ„-ì»¨íŠ¸ë¡¤ëŸ¬ê°€-í˜¸ì¶œë˜ëŠ”-ë°©ì‹">ìœ„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹</h4>

<ul>
  <li><strong>HandlerMapping</strong>(í•¸ë“¤ëŸ¬ ë§¤í•‘)
    <ul>
      <li>í•¸ë“¤ëŸ¬ ë§¤í•‘ì—ì„œ ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆì–´ì•¼ í•¨
 ex) <strong>ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘</strong> í•„ìš”</li>
    </ul>
  </li>
  <li><strong>HandlerAdapter</strong>(í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°)
    <ul>
      <li>í•¸ë“¤ëŸ¬ ë§¤í•‘ì„ í†µí•´ì„œ ì°¾ì€ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ê°€ í•„ìš”
 ex) Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ì°¾ê³  ì‹¤í–‰í•´ì•¼ í•¨</li>
    </ul>
  </li>
  <li>ìŠ¤í”„ë§ì€ ì´ë¯¸ í•„ìš”í•œ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ ëŒ€ë¶€ë¶„ êµ¬í˜„í•´ë‘ì—ˆë‹¤.</li>
</ul>

<h4 id="ìŠ¤í”„ë§-ë¶€íŠ¸ê°€-ìë™ìœ¼ë¡œ-ë“±ë¡í•˜ëŠ”-í•¸ë“¤ëŸ¬-ë§¤í•‘ê³¼-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°">ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°</h4>

<ul>
  <li><strong>HandlerMapping</strong>
    <ul>
      <li>RequestMappingHandlerMapping : ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ @RequestMappingì—ì„œ ì‚¬ìš© - ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ</li>
      <li>BeanNameUrlHandlerMapping : ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤. 
(ìœ„ ì˜ˆì œì˜ @Component)</li>
    </ul>
  </li>
  <li><strong>HandlerAdapter</strong>
    <ul>
      <li>RequestMappingHandlerAdapter : ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì¸ @RequestMappingì—ì„œ ì‚¬ìš© - ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ</li>
      <li>HttpRequestHandlerAdapter : HttpRequestHandler ì²˜ë¦¬</li>
      <li>SimpleControllerHandlerAdapter : Controller ì¸í„°í˜ì´ìŠ¤(ì• ë…¸í…Œì´ì…˜X, ê³¼ê±°ì— ì‚¬ìš©) ì²˜ë¦¬</li>
    </ul>
  </li>
</ul>

<h5 id="1-í•¸ë“¤ëŸ¬-ë§¤í•‘ìœ¼ë¡œ-í•¸ë“¤ëŸ¬-ì¡°íšŒ"><strong>1.</strong> <strong>í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ</strong></h5>

<p>HandlerMapping ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì„œ, í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.</p>

<p>ë¹ˆì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼í•˜ê¸° ë•Œë¬¸ì— ë¹ˆì´ë¦„ìœ¼ë¡œí•¸ë“¤ëŸ¬ë¥¼ì°¾ì•„ì£¼ëŠ” BeanNameUrlHandlerMappingê°€ ì‹¤í–‰ì— ì„±ê³µí•˜ê³  í•¸ë“¤ëŸ¬ì¸ OldController ë¥¼ ë°˜í™˜í•œë‹¤.</p>

<h5 id="2-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°-ì¡°íšŒ"><strong>2.</strong> <strong>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ</strong></h5>

<p>HandlerAdapter ì˜ supports() ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œë‹¤. SimpleControllerHandlerAdapter ê°€ Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ëœë‹¤.</p>

<h5 id="3-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°-ì‹¤í–‰"><strong>3.</strong> <strong>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰</strong></h5>

<p>DispatcherServletì´ ì¡°íšŒí•œ SimpleControllerHandlerAdapter ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.</p>

<p>SimpleControllerHandlerAdapter ëŠ” í•¸ë“¤ëŸ¬ì¸ OldController ë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.</p>

<h3 id="httprequesthandler"><strong>HttpRequestHandler</strong></h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">public</span> <span class="kd">interface</span> <span class="nc">HttpRequestHandler</span> <span class="o">{</span>
         <span class="kt">void</span> <span class="nf">handleRequest</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<ul>
  <li><strong>ì„œë¸”ë¦¿ê³¼ ê°€ì¥ ìœ ì‚¬í•œ í˜•íƒœ</strong>ì˜ í•¸ë“¤ëŸ¬</li>
</ul>

<h5 id="1-í•¸ë“¤ëŸ¬-ë§¤í•‘ìœ¼ë¡œ-í•¸ë“¤ëŸ¬-ì¡°íšŒ-1"><strong>1.</strong> <strong>í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ì¡°íšŒ</strong></h5>

<p>HandlerMapping ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•´ì„œ, í•¸ë“¤ëŸ¬ë¥¼ ì°¾ëŠ”ë‹¤.</p>

<p>ë¹ˆì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ ì°¾ì•„ì•¼í•˜ê¸° ë•Œë¬¸ì— ë¹ˆì´ë¦„ìœ¼ë¡œ í•¸ë“¤ëŸ¬ë¥¼ì°¾ì•„ì£¼ëŠ” BeanNameUrlHandlerMapping ê°€ ì‹¤í–‰ì— ì„±ê³µí•˜ê³  í•¸ë“¤ëŸ¬ì¸ MyHttpRequestHandler ë¥¼ ë°˜í™˜í•œë‹¤.</p>

<h5 id="2-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°-ì¡°íšŒ-1"><strong>2.</strong> <strong>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì¡°íšŒ</strong></h5>

<p>HandlerAdapter ì˜ supports() ë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œí•œë‹¤.
HttpRequestHandlerAdapter ê°€ HttpRequestHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ë¯€ë¡œ ëŒ€ìƒì´ ëœë‹¤.</p>

<h5 id="3-í•¸ë“¤ëŸ¬-ì–´ëŒ‘í„°-ì‹¤í–‰-1"><strong>3.</strong> <strong>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° ì‹¤í–‰</strong></h5>

<p>DispatcherServletì´ ì¡°íšŒí•œ HttpRequestHandlerAdapter ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ í•¸ë“¤ëŸ¬ ì •ë³´ë„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.</p>

<p>HttpRequestHandlerAdapter ëŠ” í•¸ë“¤ëŸ¬ì¸ MyHttpRequestHandler ë¥¼ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.</p>

<hr />

<h2 id="ë·°-ë¦¬ì¡¸ë²„">ë·° ë¦¬ì¡¸ë²„</h2>

<h4 id="application-properties">application-properties</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp
</code></pre></div></div>

<p>ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” <code class="highlighter-rouge">InternalResourceViewResolver</code> ë¼ëŠ” ë·° ë¦¬ì¡¸ë²„ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤.<br />
ì´ë•Œ <code class="highlighter-rouge">application.properties</code> ì— ë“±ë¡í•œ <code class="highlighter-rouge">spring.mvc.view.prefix</code> , <code class="highlighter-rouge">spring.mvc.view.suffix</code> ì„¤ì • ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ë“±ë¡í•œë‹¤.</p>

<h4 id="ìŠ¤í”„ë§-ë¶€íŠ¸ê°€-ìë™ìœ¼ë¡œ-ë“±ë¡í•˜ëŠ”-ë·°-ë¦¬ì¡¸ë²„">ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ìë™ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ë·° ë¦¬ì¡¸ë²„</h4>

<ul>
  <li>BeanNameViewResolver : ë¹ˆ ì´ë¦„ìœ¼ë¡œ ë·°ë¥¼ ì°¾ì•„ì„œ ë°˜í™˜</li>
  <li>InternalResourceViewResolver : JSPë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë·°ë¥¼ ë°˜í™˜</li>
</ul>

<p><strong>1.</strong> <strong>í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° í˜¸ì¶œ</strong><br />
í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë¥¼ í†µí•´ ë…¼ë¦¬ ë·° ì´ë¦„ì„ íšë“</p>

<p><strong>2. ViewResolver í˜¸ì¶œ</strong></p>

<p>new-form ì´ë¼ëŠ” ë·° ì´ë¦„ìœ¼ë¡œ viewResolverë¥¼ ìˆœì„œëŒ€ë¡œ í˜¸ì¶œ
InternalResourceViewResolver ê°€ í˜¸ì¶œë¨</p>

<h5 id="3-internalresourceviewresolver"><strong>3. InternalResourceViewResolver</strong></h5>

<p>ë‚´ë¶€ì—ì„œ ìì›ì„ ì°¾ì„ ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.<br />
ì´ ë·° ë¦¬ì¡¸ë²„ëŠ” InternalResourceView ë¥¼ ë°˜í™˜</p>

<h5 id="4-ë·°---internalresourceview">4. <strong>ë·°</strong> <strong>- InternalResourceView</strong></h5>

<p>InternalResourceView ëŠ” JSPì²˜ëŸ¼ í¬ì›Œë“œ forward() ë¥¼ í˜¸ì¶œí•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì— ì‚¬ìš©</p>

<h5 id="5-viewrender">5. view.render()</h5>

<p>view.render() ê°€ í˜¸ì¶œë˜ê³  InternalResourceView ëŠ” forward() ë¥¼ ì‚¬ìš©í•´ì„œ JSPë¥¼ ì‹¤í–‰í•œë‹¤</p>

<p>Thymeleaf ë·° í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ë©´ ThymeleafViewResolver ë¥¼ ë“±ë¡í•´ì•¼ í•œë‹¤. <br />
ìµœê·¼ì—ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì¶”ê°€í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì´ëŸ° ì‘ì—…ë„ ëª¨ë‘ ìë™í™”í•´ì¤€ë‹¤.</p>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Spring MVC - 3. ì„œë¸”ë¦¿, JSP, MVC íŒ¨í„´</title>
	  <link>//spring-mvc-3</link>
	  <author></author>
	  <pubDate>2021-05-03T19:18:00+09:00</pubDate>
	  <guid>//spring-mvc-3</guid>
	  <description><![CDATA[
	     <h2 id="ì„œë¸”ë¦¿-jsp-mvc-íŒ¨í„´">ì„œë¸”ë¦¿, JSP, MVC íŒ¨í„´</h2>

<p>ì„œë¸”ë¦¿ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê³ , JSPë¡œ ë§Œë“¤ì–´ë³´ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ MVCë¡œ ë§Œë“¤ì–´ ë³¼ ê²ƒì´ë‹¤!</p>

<h3 id="ì„œë¸”ë¦¿ìœ¼ë¡œ-ë§Œë“¤ì—ˆì„-ë•Œ-ì¼ë¶€-ì˜ˆì œ">ì„œë¸”ë¦¿ìœ¼ë¡œ ë§Œë“¤ì—ˆì„ ë•Œ ì¼ë¶€ ì˜ˆì œ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"memberListServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/servlet/members"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberListServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="n">MemberRepository</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Member</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
        <span class="n">PrintWriter</span> <span class="n">w</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;html&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;head&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;meta charset=\"UTF-8\"&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;title&gt;Title&lt;/title&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/head&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;body&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;a href=\"/index.html\"&gt;ë©”ì¸&lt;/a&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;table&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;thead&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;th&gt;id&lt;/th&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;th&gt;username&lt;/th&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;th&gt;age&lt;/th&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;/thead&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;tbody&gt;"</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Member</span> <span class="n">member</span> <span class="o">:</span> <span class="n">members</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;tr&gt;"</span><span class="o">);</span>
            <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;td&gt;"</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="o">+</span> <span class="s">"&lt;/td&gt;"</span><span class="o">);</span>
            <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;td&gt;"</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="na">getUserName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"&lt;/td&gt;"</span><span class="o">);</span>
            <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;td&gt;"</span> <span class="o">+</span> <span class="n">member</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">+</span> <span class="s">"&lt;/td&gt;"</span><span class="o">);</span>
            <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;/tr&gt;"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"    &lt;/tbody&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/table&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/body&gt;"</span><span class="o">);</span>
        <span class="n">w</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/html&gt;"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ë³µì¡í•˜ì§€ë§Œâ€¦ ë™ì ìœ¼ë¡œ ì›í•˜ëŠ” HTMLì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li>
  <li>ê° ìš”ì²­ë§ˆë‹¤ Servletì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤.</li>
  <li>ì‘ë‹µí•  HTMLì„ ìë°” ì½”ë“œ ë‚´ì— ì‘ì„±í•´ì•¼í•œë‹¤.</li>
</ul>

<hr />

<h2 id="jsp">JSP</h2>

<pre><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
</code></pre>

<h5 id="importë¬¸-ì‘ì„±">importë¬¸ ì‘ì„±</h5>

<pre><code class="language-jsp">&lt;%@ page import="hello.servlet.domain.member.MemberRepository" %&gt;
&lt;%@ page import="hello.servlet.domain.member.Member" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
</code></pre>

<pre><code class="language-jsp">&lt;%
    // request, response ì‚¬ìš© ê°€ëŠ¥
    MemberRepository memberRepository = MemberRepository.getInstance();
    System.out.println("save.jsp");
    String username = request.getParameter("username");
    int age = Integer.parseInt(request.getParameter("age"));
    Member member = new Member(username, age);
    System.out.println("member = " + member);
    memberRepository.save(member);

%&gt;
</code></pre>

<p><code class="highlighter-rouge">&lt;% %&gt;</code> ì•ˆì— ìë°”ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p>

<ul>
  <li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë·°ê°€ ì—°ê²°ë˜ì–´ ìˆë‹¤.</li>
  <li>ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ë©´ ë·°ë¥¼ ìˆ˜ì •í•˜ë‹¤ê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë„ ê°™ì´ ìˆ˜ì •ë  ìˆ˜ ìˆë‹¤.</li>
  <li>ìœ ì§€ë³´ìˆ˜ì„±ì´ ë–¨ì–´ì§„ë‹¤.</li>
</ul>

<hr />

<h2 id="mvc">MVC</h2>

<h3 id="servlet-jspì˜-ë¬¸ì œì ">Servlet, JSPì˜ ë¬¸ì œì </h3>

<h4 id="ë„ˆë¬´-ë§ì€-ì—­í• ">ë„ˆë¬´ ë§ì€ ì—­í• </h4>

<p>í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ì´ë‚˜ JSPë§Œìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë·° ë Œë”ë§ê¹Œì§€ ëª¨ë‘ ì²˜ë¦¬í•˜ê²Œ ë˜ë©´, ë„ˆë¬´ ë§ì€ ì—­í• ì„ í•˜ê³ , ë˜í•œ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§„ë‹¤.</p>

<h4 id="ë³€ê²½ì˜-ë¼ì´í”„-ì‚¬ì´í´">ë³€ê²½ì˜ ë¼ì´í”„ ì‚¬ì´í´</h4>

<p>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë·°ì˜ ë³€ê²½ì˜ ë¼ì´í”„ ì‚¬ì´í´ì´ ë‹¤ë¥´ë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ì„œ UI ë¥¼ ì¼ë¶€ ìˆ˜ì •í•˜ëŠ” ì¼ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜ì •í•˜ëŠ” ì¼ì€ ê°ê° ë‹¤ë¥´ê²Œ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ê³  ëŒ€ë¶€ë¶„ ì„œë¡œì—ê²Œ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤. <br />
ì´ë ‡ê²Œ ë³€ê²½ì˜ ë¼ì´í”„ ì‚¬ì´í´ì´ ë‹¤ë¥¸ ë¶€ë¶„ì„ í•˜ë‚˜ì˜ ì½”ë“œë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì¢‹ì§€ ì•Šë‹¤.<br />
ë ˆì´ì–´ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê¸°ì¤€ì€ ë³€ê²½ ì£¼ê¸°ê°€ ë‹¤ë¥¼ ë•Œë¼ê³  ìƒê°í•˜ë©´ í¸í•˜ë‹¤.</p>

<h4 id="ê¸°ëŠ¥-íŠ¹í™”">ê¸°ëŠ¥ íŠ¹í™”</h4>

<p>ë·° í…œí”Œë¦¿ì€ í™”ë©´ì„ ë Œë”ë§ í•˜ëŠ”ë° ìµœì í™” ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì´ ë¶€ë¶„ì˜ ì—…ë¬´ë§Œ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì´ë‹¤.</p>

<h3 id="model-view-controller">Model View Controller</h3>

<p>MVC íŒ¨í„´ì€ ì„œë¸”ë¦¿ì´ë‚˜, JSPë¡œ ì²˜ë¦¬í•˜ë˜ ê²ƒì„ ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ì™€ ë·°(View)ë¼ëŠ” ì˜ì—­ìœ¼ë¡œ ì„œë¡œ ì—­í• ì„ ë‚˜ëˆˆ ê²ƒì„ ë§í•œë‹¤.<br />
ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë³´í†µ ì´ MVC íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.</p>

<h4 id="controller">Controller</h4>

<p>HTTP ìš”ì²­ì„ ë°›ì•„ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ê²€ì¦í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤. ê·¸ë¦¬ê³  ë·°ì— ì „ë‹¬í•  ê²°ê³¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì„œ ëª¨ë¸ì— ë‹´ëŠ”ë‹¤.<br />
ì¤‘ì•™ì—ì„œ ì¡°ì¢…í•˜ëŠ” ì—­í• . (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ì„ ìˆ˜ ìˆì§€ë§Œ, ì—­í• ì´ ë„ˆë¬´ ë§ì•„ì§€ê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í˜¸ì¶œí•œë‹¤ê³  í•˜ì.)</p>

<h4 id="model">Model</h4>

<p>ë·°ì— ì¶œë ¥í•  ë°ì´í„°ë¥¼ ë‹´ì•„ë‘”ë‹¤.<br />
ë·°ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ëª¨ë‘ ëª¨ë¸ì— ë‹´ì•„ì„œ ì „ë‹¬í•´ì£¼ëŠ” ë•ë¶„ì— ë·°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ë°ì´í„° ì ‘ê·¼ì„ ëª°ë¼ë„ ë˜ê³ , í™”ë©´ì„ ë Œë”ë§ í•˜ëŠ” ì¼ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.</p>

<h4 id="view">View</h4>

<p>ëª¨ë¸ì— ë‹´ê²¨ìˆëŠ” ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ì¼ì— ì§‘ì¤‘í•œë‹¤. ì—¬ê¸°ì„œëŠ” HTMLì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ë§í•œë‹¤.</p>

<h3 id="mvc-ì ìš©í•˜ê¸°">MVC ì ìš©í•˜ê¸°</h3>

<ul>
  <li>ì„œë¸”ë¦¿ì„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‚¬ìš©</li>
  <li>JSPë¥¼ ë·°ë¡œ ì‚¬ìš©</li>
  <li>HttpServletRequest ê°ì²´ë¥¼ ëª¨ë¸ë¡œ ì‚¬ìš© (<code class="highlighter-rouge">request.setAttribute()</code> , <code class="highlighter-rouge">request.getAttribute() </code>ì‚¬ìš©)</li>
</ul>

<p><img src="https://images.velog.io/images/new_wisdom/post/1fa7cead-0d71-4afc-a391-a7b7932c9541/image.png" style="zoom:67%;" /></p>

<h4 id="mvcmemberformservlet">MvcMemberFormServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"mvcMemberFormServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/servlet-mvc/members/new-form"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MvcMemberFormServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">viewPath</span> <span class="o">=</span> <span class="s">"/WEB-INF/views/new-form.jsp"</span><span class="o">;</span>
        <span class="n">RequestDispatcher</span> <span class="n">requestDispatcher</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span> <span class="c1">// ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·°ë¡œ ì´ë™</span>
        <span class="n">requestDispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span> <span class="c1">// ì„œë¸”ë¦¿ì—ì„œ JSPë¥¼ í˜¸ì¶œí•œë‹¤.</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">dispatcher.forward()</code> : ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤. ì„œë²„ ë‚´ë¶€ì—ì„œ ë‹¤ì‹œ í˜¸ì¶œì´ ë°œìƒí•œë‹¤.<br />
í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê°”ë‹¤ê°€ ì˜¤ëŠ”ê²Œ ì•„ë‹Œ(ë¦¬ë‹¤ì´ë ‰íŠ¸ê°€ ì•„ë‹Œ), ì„œë²„ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•œ ê²ƒì´ë‹¤.</li>
  <li><code class="highlighter-rouge">/WEB-INF</code> :  ì´ ê²½ë¡œì•ˆì— JSPê°€ ìˆìœ¼ë©´ ì™¸ë¶€ì—ì„œ ì§ì ‘ JSPë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ì–´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ í•œë‹¤.</li>
</ul>

<h4 id="redirect-vs-forward">redirect vs forward</h4>

<ul>
  <li>redirect : ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸(ì›¹ ë¸Œë¼ìš°ì €)ì— ì‘ë‹µì´ ë‚˜ê°”ë‹¤ê°€, í´ë¼ì´ì–¸íŠ¸ê°€ redirect ê²½ë¡œë¡œ ë‹¤ì‹œ ìš”ì²­í•œë‹¤.<br />
í´ë¼ì´ì–¸íŠ¸ê°€ ì¸ì§€í•  ìˆ˜ ìˆê³ , URL ê²½ë¡œë„ ì‹¤ì œë¡œ ë³€ê²½ëœë‹¤.</li>
  <li>forward : ì„œë²„ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” í˜¸ì¶œì´ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ê°€ ì¸ì§€í•˜ì§€ ëª»í•œë‹¤.</li>
</ul>

<h4 id="mvcmembersaveservlet">MvcMemberSaveServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"mvcMemberSaveServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/servlet-mvc/members/save"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MvcMemberSaveServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="n">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="n">MemberRepository</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"username"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"age"</span><span class="o">));</span>

        <span class="c1">// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§</span>
        <span class="n">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Member</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
        <span class="n">memberRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>

        <span class="c1">// Modelì— ë°ì´í„°ë¥¼ ë³´ê´€í•œë‹¤. - req ê°ì²´ì— Mapì´ ìˆëŠ”ë° ì—¬ê¸°ì— ì €ì¥í•œë‹¤.</span>
        <span class="n">req</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">viewPath</span> <span class="o">=</span> <span class="s">"/WEB-INF/views/save-result.jsp"</span><span class="o">;</span>
        <span class="n">RequestDispatcher</span> <span class="n">requestDispatcher</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span>
        <span class="n">requestDispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="save-resultjsp">save-result.jsp</h4>

<pre><code class="language-jsp">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt; ì„±ê³µ
&lt;ul&gt;
    &lt;li&gt;id=${member.id}&lt;/li&gt;
    &lt;li&gt;username=${member.username}&lt;/li&gt;
    &lt;li&gt;age=${member.age}&lt;/li&gt;
&lt;/ul&gt;
&lt;a href="/index.html"&gt;ë©”ì¸&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<ul>
  <li><code class="highlighter-rouge">${}</code> : jspê°€ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ì ‘ê·¼ë²•ìœ¼ë¡œ, reqì— ë‹´ê²¨ìˆëŠ” attributeì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</li>
</ul>

<h4 id="mvcmemberlistservlet">MvcMemberListServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"mvcMemberListServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/servlet-mvc/members"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MvcMemberListServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">MemberRepository</span> <span class="n">memberRepository</span> <span class="o">=</span> <span class="n">MemberRepository</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Member</span><span class="o">&gt;</span> <span class="n">members</span> <span class="o">=</span> <span class="n">memberRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>

        <span class="n">req</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"members"</span><span class="o">,</span> <span class="n">members</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">viewPath</span> <span class="o">=</span> <span class="s">"/WEB-INF/views/members.jsp"</span><span class="o">;</span>
        <span class="n">RequestDispatcher</span> <span class="n">dispatcher</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getRequestDispatcher</span><span class="o">(</span><span class="n">viewPath</span><span class="o">);</span>
        <span class="n">dispatcher</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="membersjsp-ì¼ë¶€">members.jsp ì¼ë¶€</h4>

<pre><code class="language-jsp">&lt;c:forEach var="item" items="${members}"&gt;
    &lt;tr&gt;
        &lt;td&gt;${item.id}&lt;/td&gt;
        &lt;td&gt;${item.username}&lt;/td&gt;
        &lt;td&gt;${item.age}&lt;/td&gt;
    &lt;/tr&gt;
&lt;/c:forEach&gt;
</code></pre>

<ul>
  <li><code class="highlighter-rouge">&lt;c:forEach&gt;</code> : <code class="highlighter-rouge">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%&gt;</code> ë¥¼ ì„ ì–¸í•´ì•¼í•œë‹¤.</li>
</ul>

<h3 id="mvc-íŒ¨í„´ì˜-í•œê³„">MVC íŒ¨í„´ì˜ í•œê³„</h3>

<h3 id="forwardì˜-ì¤‘ë³µ">forwardì˜ ì¤‘ë³µ</h3>

<p>ë©”ì„œë“œë¥¼ ì¶”ì¶œí•´ë„ ë˜ì§€ë§Œ, ë©”ì„œë“œ í˜¸ì¶œë§ˆì € ì¤‘ë³µìœ¼ë¡œ ì¼ì–´ë‚œë‹¤.</p>

<h4 id="viewpathì—-ì¤‘ë³µ">ViewPathì— ì¤‘ë³µ</h4>

<p>prefixì¸ <code class="highlighter-rouge">/WEB-INF/views/</code> ì™€ suffixì¸ <code class="highlighter-rouge">.jsp</code> ê°€ ì¤‘ë³µìœ¼ë¡œ ë°œìƒí•œë‹¤.<br />
ë§Œì•½ jspê°€ ì•„ë‹Œ thymeleaf ê°™ì€ ë‹¤ë¥¸ ë·°ë¡œ ë³€ê²½í•œë‹¤ë©´ ì „ì²´ ì½”ë“œë¥¼ ë‹¤ ë³€ê²½í•´ì•¼ í•œë‹¤.</p>

<h4 id="ì‚¬ìš©í•˜ì§€-ì•ŠëŠ”-ì½”ë“œ">ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">response</span>
</code></pre></div></div>

<p>ìœ„ ê°ì²´ëŠ” ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³ , ì•ˆí• ìˆ˜ë„ ìˆë‹¤.</p>

<h4 id="ê³µí†µ-ì²˜ë¦¬ê°€-ì–´ë µë‹¤">ê³µí†µ ì²˜ë¦¬ê°€ ì–´ë µë‹¤.</h4>

<p>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ê³µí†µìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ì ì  ì¦ê°€í•˜ëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì.<br />
ë‹¨ìˆœíˆ ê³µí†µ ê¸°ëŠ¥ì„ ë©”ì„œë“œë¡œ ë½‘ìœ¼ë©´ ë  ê²ƒ ê°™ì§€ë§Œ, ê²°ê³¼ì ìœ¼ë¡œ í•´ë‹¹ ë©”ì„œë“œë¥¼ í•­ìƒ í˜¸ì¶œí•´ì•¼ í•˜ê³ , ì‹¤ìˆ˜ë¡œ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ë¬¸ì œê°€ ëœë‹¤. <br />
ë˜í•œ í˜¸ì¶œí•˜ëŠ” ê²ƒ ìì²´ë„ ì¤‘ë³µì´ë‹¤.</p>

<h4 id="í”„ë¡ íŠ¸-ì»¨íŠ¸ë¡¤ëŸ¬front-controller-íŒ¨í„´ì„-ë„ì…í•˜ë©´-ì´ëŸ°-ë¬¸ì œë¥¼-ê¹”ë”í•˜ê²Œ-í•´ê²°í• -ìˆ˜-ìˆë‹¤">í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬(Front Controller) <strong>íŒ¨í„´</strong>ì„ ë„ì…í•˜ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</h4>

<hr />

<p>âœï¸ ê¹€ì˜ë‹˜ì˜ <strong>ìŠ¤í”„ë§ MVC 1í¸ - ë°±ì—”ë“œ ì›¹ ê°œë°œ í•µì‹¬ ê¸°ìˆ </strong> ê°•ì˜ ë…¸íŠ¸ âœï¸</p>

	  ]]></description>
	</item>

	<item>
	  <title>ğŸ“‹ Spring MVC - 2. ì„œë¸”ë¦¿</title>
	  <link>//spring-mvc-2</link>
	  <author></author>
	  <pubDate>2021-05-03T19:18:00+09:00</pubDate>
	  <guid>//spring-mvc-2</guid>
	  <description><![CDATA[
	     <h2 id="ì˜ˆì œ">ì˜ˆì œ</h2>

<p>ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šì§€ë§Œ ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤. <br />
ì„œë¸”ë¦¿ì€ í†°ìº£ ê°™ì€ WASë¥¼ ì§ì ‘ ì„¤ì¹˜í•˜ê³ , ê·¸ ìœ„ì— ì„œë¸”ë¦¿ ì½”ë“œë¥¼ í´ë˜ìŠ¤ íŒŒì¼ë¡œ ë¹Œë“œí•´ì„œ ì˜¬ë¦° ë‹¤ìŒ í†°ìº£ ì„œë²„ë¥¼ ì‹¤í–‰í•´ì•¼ í–ˆëŠ”ë°,<br />
ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” í†°ìº£ ì„œë²„ë¥¼ ë‚´ì¥í•˜ê³  ìˆìœ¼ë‹ˆ, ì´ë¡œ ì§„í–‰í•œë‹¤.</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/d9e7d412-01b4-4131-9aed-28fbf9acbe6e/image.png" alt="" /></p>

<p>ë³´í†µì€ Jarë¥¼ ì„ íƒí•˜ì§€ë§Œ, JSPë¥¼ ëŒë¦¬ê¸° ìœ„í•´ Warë¥¼ ì„ íƒí•œë‹¤.</p>

<h4 id="helloservlet">HelloServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì„œë¸”ë¦¿ì´ í˜¸ì¶œë˜ë©´ ì´ serviceê°€ í˜¸ì¶œëœë‹¤.</span>
<span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"helloServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/hello"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">service</span><span class="o">(</span><span class="n">req</span><span class="o">,</span> <span class="n">resp</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HelloServlet"</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Request : "</span> <span class="o">+</span> <span class="n">req</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response : "</span> <span class="o">+</span> <span class="n">resp</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">write</span><span class="o">(</span><span class="s">"hello"</span> <span class="o">+</span> <span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HelloServlet
Request : org.apache.catalina.connector.RequestFacade@de1a8e6
Response : org.apache.catalina.connector.ResponseFacade@2b3735f6
amazzi
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">@WebServlet</code> : ì„œë¸”ë¦¿ ì–´ë…¸í…Œì´ì…˜</li>
  <li><code class="highlighter-rouge">@ServletComponentScan</code> : ìŠ¤í”„ë§ì´ ìë™ìœ¼ë¡œ ì„œë¸”ë¦¿ì„ ì°¾ì•„ ë“±ë¡í•´ì¤€ë‹¤.</li>
  <li>HTTP ìš”ì²­ì´ ì˜¤ë©´ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì¸ WASê°€ HTTP ìš”ì²­, ì‘ë‹µ ê°ì²´ë¥¼ ì„œë¸”ë¦¿ì— ë˜ì ¸ì¤€ë‹¤.</li>
  <li><code class="highlighter-rouge">req.getParameter()</code> :  ìš”ì²­ì—ì„œ í•´ë‹¹ Parameterë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li>
  <li><code class="highlighter-rouge">resp.setCharacterEncoding("utf-8");</code> : í—¤ë”ì— CharacterEncodingì„ ì§€ì •í•œë‹¤.</li>
  <li><code class="highlighter-rouge">resp.getWriter().write();</code> : <code class="highlighter-rouge">write()</code> ì— ë°”ë””ì— ë‹´ì„ ë°ì´í„°ë¥¼ ë„£ì–´ì¤€ë‹¤.</li>
</ul>

<h4 id="-requestfacade">ğŸ¤” RequestFacade?</h4>

<p>HttpServletRequestëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.<br />
ì—¬ëŸ¬ê°€ì§€ WAS ì„œë²„ë“¤ì´ ì´ ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¥¼ êµ¬í˜„í•˜ê³  ìˆì–´ ë‹¤ì–‘í•œ WASë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</p>

<h4 id="http-ìš”ì²­-ë©”ì‹œì§€-ë¡œê·¸ë¡œ-í™•ì¸í•˜ê¸°">HTTP ìš”ì²­ ë©”ì‹œì§€ ë¡œê·¸ë¡œ í™•ì¸í•˜ê¸°</h4>

<p>application-propertiesì— ë‹¤ìŒì„ ì¶”ê°€í•œë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>logging.level.org.apache.coyote.http11=debug
</code></pre></div></div>

<h4 id="ì›¹-ì• í”Œë¦¬ì¼€ì´ì…˜-ì„œë²„ì˜-ìš”ì²­-ì‘ë‹µ-êµ¬ì¡°">ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ì˜ ìš”ì²­ ì‘ë‹µ êµ¬ì¡°</h4>

<p><img src="https://images.velog.io/images/new_wisdom/post/1d33b3a2-3565-4487-b17d-c7af286c3c30/image.png" style="zoom:80%;" /></p>

<hr />

<h2 id="httpservletrequest">HttpServletRequest</h2>

<p>ì„œë¸”ë¦¿ì€ ê°œë°œìê°€ HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ê°œë°œì ëŒ€ì‹ ì— HTTP ìš”ì²­ ë©”ì‹œì§€ë¥¼ íŒŒì‹±í•œë‹¤. <br />
ê·¸ë¦¬ê³  ê²°ê³¼ë¥¼ HttpServletRequest ê°ì²´ì— ë‹´ì•„ì„œ ì œê³µí•œë‹¤.</p>

<ul>
  <li>START LINE
    <ul>
      <li>HTTP ë©”ì†Œë“œ</li>
      <li>URL</li>
      <li>ì¿¼ë¦¬ ìŠ¤íŠ¸ë§</li>
      <li>ìŠ¤í‚¤ë§ˆ, í”„ë¡œí† ì½œ</li>
    </ul>
  </li>
  <li>HEADER
    <ul>
      <li>í—¤ë” ì¡°íšŒ</li>
    </ul>
  </li>
  <li>BODY
    <ul>
      <li>form íŒŒë¼ë¯¸í„°ì˜ í˜•ì‹ ì¡°íšŒ</li>
      <li>message body ë°ì´í„° ì§ì ‘ ì¡°íšŒ</li>
    </ul>
  </li>
  <li>ë¶€ê°€ ê¸°ëŠ¥
    <ul>
      <li>ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥
        <ul>
          <li>í•´ë‹¹ HTTP ìš”ì²­ì´ ì‹œì‘ë¶€í„° ëë‚  ë•Œ ê¹Œì§€ ìœ ì§€ë˜ëŠ” ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥</li>
          <li>ì €ì¥: request.setAttribute(name, value)</li>
          <li>ì¡°íšŒ: request.getAttribute(name)</li>
        </ul>
      </li>
      <li>ì„¸ì…˜ ê´€ë¦¬ ê¸°ëŠ¥
        <ul>
          <li>request.getSession(create: true)</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="ê¸°ë³¸-ì‚¬ìš©">ê¸°ë³¸ ì‚¬ìš©</h4>

<h4 id="start-line">Start Line</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">request</span><span class="o">.</span><span class="na">getMethod</span><span class="o">()</span> <span class="o">=</span> <span class="n">GET</span>
<span class="n">request</span><span class="o">.</span><span class="na">getProtocal</span><span class="o">()</span> <span class="o">=</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">request</span><span class="o">.</span><span class="na">getScheme</span><span class="o">()</span> <span class="o">=</span> <span class="n">http</span>
<span class="n">request</span><span class="o">.</span><span class="na">getRequestURL</span><span class="o">()</span> <span class="o">=</span> <span class="nl">http:</span><span class="c1">//localhost:8080/request-header</span>
<span class="n">request</span><span class="o">.</span><span class="na">getRequestURI</span><span class="o">()</span> <span class="o">=</span> <span class="o">/</span><span class="n">request</span><span class="o">-</span><span class="n">header</span>
<span class="n">request</span><span class="o">.</span><span class="na">getQueryString</span><span class="o">()</span> <span class="o">=</span> <span class="n">username</span><span class="o">=</span><span class="n">hello</span>
<span class="n">request</span><span class="o">.</span><span class="na">isSecure</span><span class="o">()</span> <span class="o">=</span> <span class="kc">false</span>
</code></pre></div></div>

<h4 id="í—¤ë”-ì •ë³´">í—¤ë” ì •ë³´</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">request</span><span class="o">.</span><span class="na">getHeaderNames</span><span class="o">().</span><span class="na">asIterator</span><span class="o">()</span>
        <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">headerName</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">headerName</span> <span class="o">+</span> <span class="s">": "</span> <span class="o">+</span>
                <span class="n">request</span><span class="o">.</span><span class="na">getHeader</span><span class="o">(</span><span class="n">headerName</span><span class="o">)));</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"--- Headers - end ---"</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
</code></pre></div></div>

<p>ì´ ì™¸ì—ë„ Header ì •ë³´ë¥¼ ì¶”ì¶œí•˜ëŠ” ë©”ì„œë“œë“¤ì´ ìˆë‹¤.</p>

<ul>
  <li>request.getServerName()</li>
  <li>request.getServerPort()</li>
  <li>request.getLocale()</li>
  <li>request.getCookies()</li>
  <li>request.getContentType()</li>
  <li>request.getCharacterEncoding()</li>
</ul>

<hr />

<h2 id="http-ìš”ì²­-ë°ì´í„°---get-ì¿¼ë¦¬-íŒŒë¼ë¯¸í„°">HTTP ìš”ì²­ ë°ì´í„° - GET ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h2>

<p>ë©”ì‹œì§€ ë°”ë”” ì—†ì´, URLì˜ <strong>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</strong>ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•. <br />
ì˜ˆ) ê²€ìƒ‰, í•„í„°, í˜ì´ì§•ë“±ì—ì„œ ë§ì´ ì‚¬ìš©</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:8080/request-param?username=hello&amp;age=20
</code></pre></div></div>

<p>ì¿¼ë¦¬íŒŒë¼ë¯¸í„°ëŠ”URLì—ë‹¤ìŒê³¼ê°™ì´ ?ë¥¼ì‹œì‘ìœ¼ë¡œë³´ë‚¼ìˆ˜ìˆë‹¤.ì¶”ê°€íŒŒë¼ë¯¸í„°ëŠ” &amp;ë¡œêµ¬ë¶„í•˜ë©´ëœë‹¤.</p>

<h4 id="requestparamservlet">RequestParamServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * íŒŒë¼ë¯¸í„° ì „ì†¡ ê¸°ëŠ¥
 * http://localhost:8080/request-param?username=hello&amp;age=20
 */</span>

<span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"requestParamServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/request-param"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestParamServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"1. ì „ì²´ íŒŒë¼ë¯¸í„° ì¡°íšŒ"</span><span class="o">);</span>
        <span class="n">req</span><span class="o">.</span><span class="na">getParameterNames</span><span class="o">()</span>
                <span class="o">.</span><span class="na">asIterator</span><span class="o">()</span>
                <span class="o">.</span><span class="na">forEachRemaining</span><span class="o">(</span><span class="n">paramName</span> <span class="o">-&gt;</span>
                        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">paramName</span> <span class="o">+</span> <span class="s">"="</span> <span class="o">+</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="n">paramName</span><span class="o">)));</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"2. ë‹¨ì¼ íŒŒë¼ë¯¸í„° ì¡°íšŒ (ë” ë§ì´ ì“°ëŠ” ë°©ì‹)"</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"username"</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">username</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"3. íŒŒë¼ë¯¸í„° ì´ë¦„ì´ ê°™ì€ ì—¬ëŸ¬ê°œ ê°’ì´ ìˆì„ ê²½ìš°"</span><span class="o">);</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">usernames</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getParameterValues</span><span class="o">(</span><span class="s">"username"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<hr />

<h2 id="http-ìš”ì²­-ë°ì´í„°---post-html-form">HTTP ìš”ì²­ ë°ì´í„° - POST HTML Form</h2>

<p>ë©”ì‹œì§€ ë°”ë””ì— ë°ì´í„°ê°€ ë“¤ì–´ê°€ê¸° ë•Œë¬¸ì— content-typeì´ ìˆë‹¤. <br />
<code class="highlighter-rouge">content-type : application/x-www-form-urlencoded </code><br />
ë°”ë””ì— ì¿¼ë¦¬ íŒŒë¦¬ë¯¸í„° í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤. <code class="highlighter-rouge">username=hello&amp;age=20</code></p>

<h4 id="hello-formhtml-ì¼ë¶€">hello-form.html ì¼ë¶€</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/request-param"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
    username: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"username"</span><span class="nt">/&gt;</span> age: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>ì „ì†¡<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<p>ì´ì „ì— ë§Œë“¤ì—ˆë˜ <strong>requestParamServlet</strong>ì— ìš”ì²­ì„ ë³´ë‚´ë©´,</p>

<p><img src="https://images.velog.io/images/new_wisdom/post/3d6eaa71-b5b2-4166-9aa3-6b3aaf8bf97a/image.png" style="zoom: 50%;" /></p>

<p>ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ëŠ”ë‹¤! <br />
ê·¸ëŸ°ë° <strong>requestParamServlet</strong>ëŠ” ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë§Œ ì¡°íšŒí•˜ëŠ”ë° ?</p>

<p>application/x-www-form-urlencoded í˜•ì‹ì€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ê³¼ ê°™ë‹¤.<br />
ë”°ë¼ì„œ <strong>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¡°íšŒ ë©”ì„œë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©</strong>í•˜ë©´ ëœë‹¤.
ì„œë²„ ì…ì¥ì—ì„œëŠ” ë‘˜ì˜ í˜•ì‹ì´ ë™ì¼í•˜ë¯€ë¡œ, request.getParameter() ë¡œ í¸ë¦¬í•˜ê²Œ êµ¬ë¶„ì—†ì´ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</p>

<p>request.getParameter() ëŠ” GET URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° í˜•ì‹ë„ ì§€ì›í•˜ê³ , POST HTML Form í˜•ì‹ë„ ë‘˜ ë‹¤ ì§€ì›í•œë‹¤.</p>

<h4 id="-postmanìœ¼ë¡œ-í…ŒìŠ¤íŠ¸í• -ê²½ìš°">ğŸ’¡ POSTMANìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ê²½ìš°</h4>

<p>Form ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê¸° ê·€ì°®ì€ë°, ì´ë•Œ <strong>Content-type</strong>ì„ <code class="highlighter-rouge">application/x-www-form-urlencoded</code> ë¡œ ì„¤ì •í•œë‹¤.</p>

<hr />

<h2 id="http-ìš”ì²­-ë°ì´í„°---api-ë©”ì‹œì§€-ë°”ë””">HTTP ìš”ì²­ ë°ì´í„° - API ë©”ì‹œì§€ ë°”ë””</h2>

<p><strong>HTTP message body</strong>ì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­í•œë‹¤. <br />
HTTP APIì—ì„œ ì£¼ë¡œ JSONì„ ì‚¬ìš©í•œë‹¤.</p>

<h3 id="ë‹¨ìˆœ-í…ìŠ¤íŠ¸">ë‹¨ìˆœ í…ìŠ¤íŠ¸</h3>

<h4 id="requestbodystringservlet---rawí•œ-string">RequestBodyStringServlet - Rawí•œ String</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"requestBodyStringServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/request-body-string"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyStringServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">ServletInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span> <span class="c1">// byte ì½”ë“œë¥¼ ì–»ìŒ</span>
        <span class="n">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="n">StreamUtils</span><span class="o">.</span><span class="na">copyToString</span><span class="o">(</span><span class="n">inputStream</span><span class="o">,</span> <span class="n">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span> <span class="c1">// ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹°</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>HTML formë„ ì´ë ‡ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆì§€ë§Œ ë²ˆê±°ë¡œìš°ë‹ˆ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¡°íšŒë¥¼ ì‚¬ìš©í•˜ì!</p>

<h3 id="json">JSON</h3>

<ul>
  <li>content-type: <strong>application/json</strong></li>
</ul>

<h4 id="hellodata">HelloData</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Getter</span>
<span class="nd">@Setter</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloData</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">userName</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="requestbodyjsonservlet">RequestBodyJsonServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"requestBodyJsonServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/request-body-json"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">ServletInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">req</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span> <span class="c1">// byte ì½”ë“œë¥¼ ì–»ìŒ</span>
        <span class="n">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="n">StreamUtils</span><span class="o">.</span><span class="na">copyToString</span><span class="o">(</span><span class="n">inputStream</span><span class="o">,</span> <span class="n">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span> <span class="c1">// ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹°</span>

        <span class="n">HelloData</span> <span class="n">helloData</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">messageBody</span><span class="o">,</span> <span class="n">HelloData</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>JSON ê²°ê³¼ë¥¼ íŒŒì‹±í•´ì„œ ê°ì²´ë¡œ ë³€í™˜í•˜ë ¤ë©´ Jackson, Gson ê°™ì€ JSON ë³€í™˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. <br />
ìŠ¤í”„ë§ ë¶€íŠ¸ë¡œ Spring MVCë¥¼ ì„ íƒí•˜ë©´ ê¸°ë³¸ìœ¼ë¡œ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬( ObjectMapper)ë¥¼ ì œê³µí•œë‹¤.</p>

<hr />

<h2 id="httpservletresponse---ê¸°ë³¸-ì‚¬ìš©ë²•">HTTPServletResponse - ê¸°ë³¸ ì‚¬ìš©ë²•</h2>

<p>ê°œë°œìê°€ ì§ì ‘ ì‘ë‹µ ê°ì²´ë¥¼ ë§Œë“¤ê¸°ëŠ” ë²ˆê±°ë¡­ì§€ ì•Šê²Œ ì„œë¸”ë¦¿ì´ ì œê³µí•´ì¤€ë‹¤!</p>

<ul>
  <li>HTTP ì‘ë‹µì½”ë“œ ì§€ì •</li>
  <li>í—¤ë” ìƒì„±</li>
  <li>ë°”ë”” ìƒì„± ë“±ë“±â€¦</li>
</ul>

<h4 id="responseheaderservlet">ResponseHeaderServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"responseHeaderServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/response-header"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ResponseHeaderServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="c1">//[status-line] ìƒíƒœì½”ë“œ ì§€ì •</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_OK</span><span class="o">);</span> <span class="c1">//200</span>
        <span class="c1">//[response-headers] ì‘ë‹µ í—¤ë” ì§€ì •</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"text/plain;charset=utf-8"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Cache-Control"</span><span class="o">,</span> <span class="s">"no-cache, no-store, must-revalidate"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Pragma"</span><span class="o">,</span> <span class="s">"no-cache"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"my-header"</span><span class="o">,</span> <span class="s">"hello"</span><span class="o">);</span>
        <span class="c1">//[Header í¸ì˜ ë©”ì„œë“œ] content(response); cookie(response); redirect(response);</span>
        <span class="c1">//[message body] ì‘ë‹µ ë°”ë”” ì§€ì •</span>
        <span class="n">PrintWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>

        <span class="c1">//Content-Type: text/plain;charset=utf-8</span>
        <span class="c1">//Content-Length: 2</span>
        <span class="c1">//response.setHeader("Content-Type", "text/plain;charset=utf-8");</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/plain"</span><span class="o">);</span> 
        <span class="n">resp</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span> 
        <span class="c1">//response.setContentLength(2); //(ìƒëµì‹œ ìë™ ìƒì„±)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h4 id="ì¿ í‚¤-ì„¤ì •í•˜ê¸°">ì¿ í‚¤ ì„¤ì •í•˜ê¸°</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Set-Cookie: myCookie=good; Max-Age=600; </span>
<span class="n">response</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Set-Cookie"</span><span class="o">,</span> <span class="s">"myCookie=good; Max-Age=600"</span><span class="o">);</span> 

<span class="c1">// ë˜ëŠ” </span>
<span class="n">Cookie</span> <span class="n">cookie</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cookie</span><span class="o">(</span><span class="s">"myCookie"</span><span class="o">,</span> <span class="s">"good"</span><span class="o">);</span> 
<span class="n">cookie</span><span class="o">.</span><span class="na">setMaxAge</span><span class="o">(</span><span class="mi">600</span><span class="o">);</span> <span class="c1">//600ì´ˆ</span>
<span class="n">response</span><span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="n">cookie</span><span class="o">);</span>
</code></pre></div></div>

<h4 id="redirect-ì„¤ì •í•˜ê¸°">Redirect ì„¤ì •í•˜ê¸°</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Status Code 302</span>
<span class="c1">//Location: /basic/hello-form.html</span>
<span class="n">response</span><span class="o">.</span><span class="na">setStatus</span><span class="o">(</span><span class="n">HttpServletResponse</span><span class="o">.</span><span class="na">SC_FOUND</span><span class="o">);</span> <span class="c1">//302</span>
<span class="n">response</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Location"</span><span class="o">,</span> <span class="s">"/basic/hello-form.html"</span><span class="o">);</span>

<span class="c1">// ë˜ëŠ”</span>
<span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"/basic/hello-form.html"</span><span class="o">);</span>
</code></pre></div></div>

<hr />

<h2 id="http-ìš”ì²­-ë°ì´í„°">HTTP ìš”ì²­ ë°ì´í„°</h2>

<h3 id="ë‹¨ìˆœ-í…ìŠ¤íŠ¸-html">ë‹¨ìˆœ í…ìŠ¤íŠ¸, HTML</h3>

<h4 id="httpservletresponse">HttpServletResponse</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"responseHtmlServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/response-html"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HttpServletResponse</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="c1">// Content-Type: text:html; charset=utf-8</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text:html"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="n">PrintWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&lt;html&gt;"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&lt;body&gt;"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">" &lt;div&gt;ì´ê±´ ì•„ë‹ˆì§€&lt;/div&gt;"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&lt;/body&gt;"</span><span class="o">);</span>
        <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&lt;/html&gt;"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ê°„ë‹¨í•˜ì§€ë§Œ, HTMLì„ ì¼ì¼íˆ ì‘ì„±í•´ì£¼ì–´ì•¼ í•œë‹¤?</p>

<h3 id="api-json">API JSON</h3>

<h4 id="responsejsonservlet">ResponseJsonServlet</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"responseJsonServlet"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="s">"/response-json"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ResponseJsonServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="c1">//Content-Type: application/json</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="n">HelloData</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HelloData</span><span class="o">();</span>
        <span class="n">data</span><span class="o">.</span><span class="na">setUserName</span><span class="o">(</span><span class="s">"mazzi"</span><span class="o">);</span>
        <span class="n">data</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
        
        <span class="c1">// JSONìœ¼ë¡œ ë³€í™˜</span>
        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
        <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">write</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>(ì‚¬ì‹¤ ìŠ¤í”„ë§ ì“°ë©´ ì´ë ‡ê²Œ ê¸¸ì–´ì§€ì§€ë„ ì•ŠëŠ”ë‹¤.)</p>

<hr />

<p>âœï¸ ê¹€ì˜ë‹˜ì˜ <strong>ìŠ¤í”„ë§ MVC 1í¸ - ë°±ì—”ë“œ ì›¹ ê°œë°œ í•µì‹¬ ê¸°ìˆ </strong> ê°•ì˜ ë…¸íŠ¸ âœï¸</p>


	  ]]></description>
	</item>


</channel>
</rss>
